import{cw as M,cq as C}from"./vendor.895d999a.js";import{u as d,A as y,d as T,i as N,C as q,a as f,V as k,m as x,b as U,c as H,t as W,f as z,e as V}from"./axios.00a583eb.js";class I{constructor(){this.handlers=[]}use(t,r,s){return this.handlers.push({fulfilled:t,rejected:r,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){d.forEach(this.handlers,function(s){s!==null&&t(s)})}}function P(e,t){const r=this||T,s=t||r,o=y.from(s.headers);let n=s.data;return d.forEach(e,function(i){n=i.call(r,n,o.normalize(),t?t.status:void 0)}),o.normalize(),n}function A(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new q}function D(e){return A(e),e.headers=y.from(e.headers),e.data=P.call(e,e.transformRequest),(e.adapter||T.adapter)(e).then(function(s){return A(e),s.data=P.call(e,e.transformResponse,s),s.headers=y.from(s.headers),s},function(s){return N(s)||(A(e),s&&s.response&&(s.response.data=P.call(e,e.transformResponse,s.response),s.response.headers=y.from(s.response.headers))),Promise.reject(s)})}const j={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{j[e]=function(s){return typeof s===e||"a"+(t<1?"n ":" ")+e}});const L={};j.transitional=function(t,r,s){function o(n,a){return"[Axios v"+k+"] Transitional option '"+n+"'"+a+(s?". "+s:"")}return(n,a,i)=>{if(t===!1)throw new f(o(a," has been removed"+(r?" in "+r:"")),f.ERR_DEPRECATED);return r&&!L[a]&&(L[a]=!0,console.warn(o(a," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(n,a,i):!0}};function $(e,t,r){if(typeof e!="object")throw new f("options must be an object",f.ERR_BAD_OPTION_VALUE);const s=Object.keys(e);let o=s.length;for(;o-- >0;){const n=s[o],a=t[n];if(a){const i=e[n],m=i===void 0||a(i,n,e);if(m!==!0)throw new f("option "+n+" must be "+m,f.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new f("Unknown option "+n,f.ERR_BAD_OPTION)}}var O={assertOptions:$,validators:j};const b=O.validators;class w{constructor(t){this.defaults=t,this.interceptors={request:new I,response:new I}}request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=x(this.defaults,r);const{transitional:s,paramsSerializer:o}=r;s!==void 0&&O.assertOptions(s,{silentJSONParsing:b.transitional(b.boolean),forcedJSONParsing:b.transitional(b.boolean),clarifyTimeoutError:b.transitional(b.boolean)},!1),o!==void 0&&O.assertOptions(o,{encode:b.function,serialize:b.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();const n=r.headers&&d.merge(r.headers.common,r.headers[r.method]);n&&d.forEach(["delete","get","head","post","put","patch","common"],function(c){delete r.headers[c]}),r.headers=new y(r.headers,n);const a=[];let i=!0;this.interceptors.request.forEach(function(c){typeof c.runWhen=="function"&&c.runWhen(r)===!1||(i=i&&c.synchronous,a.unshift(c.fulfilled,c.rejected))});const m=[];this.interceptors.response.forEach(function(c){m.push(c.fulfilled,c.rejected)});let p,h=0,E;if(!i){const l=[D.bind(this),void 0];for(l.unshift.apply(l,a),l.push.apply(l,m),E=l.length,p=Promise.resolve(r);h<E;)p=p.then(l[h++],l[h++]);return p}E=a.length;let _=r;for(h=0;h<E;){const l=a[h++],c=a[h++];try{_=l(_)}catch(F){c.call(this,F);break}}try{p=D.call(this,_)}catch(l){return Promise.reject(l)}for(h=0,E=m.length;h<E;)p=p.then(m[h++],m[h++]);return p}getUri(t){t=x(this.defaults,t);const r=U(t.baseURL,t.url);return H(r,t.params,t.paramsSerializer)}}d.forEach(["delete","get","head","options"],function(t){w.prototype[t]=function(r,s){return this.request(x(s||{},{method:t,url:r,data:(s||{}).data}))}});d.forEach(["post","put","patch"],function(t){function r(s){return function(n,a,i){return this.request(x(i||{},{method:t,headers:s?{"Content-Type":"multipart/form-data"}:{},url:n,data:a}))}}w.prototype[t]=r(),w.prototype[t+"Form"]=r(!0)});class v{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(n){r=n});const s=this;this.promise.then(o=>{if(!s._listeners)return;let n=s._listeners.length;for(;n-- >0;)s._listeners[n](o);s._listeners=null}),this.promise.then=o=>{let n;const a=new Promise(i=>{s.subscribe(i),n=i}).then(o);return a.cancel=function(){s.unsubscribe(n)},a},t(function(n,a,i){s.reason||(s.reason=new q(n,a,i),r(s.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}static source(){let t;return{token:new v(function(o){t=o}),cancel:t}}}function J(e){return function(r){return e.apply(null,r)}}function B(e){return d.isObject(e)&&e.isAxiosError===!0}function S(e){const t=new w(e),r=V(w.prototype.request,t);return d.extend(r,w.prototype,t,{allOwnKeys:!0}),d.extend(r,t,null,{allOwnKeys:!0}),r.create=function(o){return S(x(e,o))},r}const u=S(T);u.Axios=w;u.CanceledError=q;u.CancelToken=v;u.isCancel=N;u.VERSION=k;u.toFormData=W;u.AxiosError=f;u.Cancel=u.CanceledError;u.all=function(t){return Promise.all(t)};u.spread=J;u.isAxiosError=B;u.formToJSON=e=>z(d.isHTMLForm(e)?new FormData(e):e);var R=u;R.defaults.timeout=25e3;R.defaults.baseURL="";R.interceptors.request.use(e=>e,e=>{console.log(e),C.create({message:e,color:"negative",multiLine:!0,icon:"mood_bad",actions:[{label:"Close",color:"white"}]}),Promise.reject(e)});R.interceptors.response.use(e=>{const{data:t,code:r}=e.data;return!t||t&&!t.success?(C.create({message:"msgText",color:"negative",multiLine:!0,icon:"mood_bad",actions:[{label:"Close",color:"white"}]}),Promise.reject("error")):Promise.resolve(e.data)},e=>(console.info(e),e.config.url.includes("/login")&&C.create({message:"DEFAULT_ERRORMSG",color:"negative",multiLine:!0,icon:"mood_bad",actions:[{label:"Close",color:"white"}]}),Promise.reject("error")));const K=R.create({baseURL:"https://api.example.com"});var X=M(({app:e})=>{e.config.globalProperties.$axios=R,e.config.globalProperties.$api=K});export{K as api,X as default,R as request};
