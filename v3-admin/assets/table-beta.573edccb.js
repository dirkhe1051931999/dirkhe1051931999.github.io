var N=Object.defineProperty;var O=(e,a,n)=>a in e?N(e,a,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[a]=n;var A=(e,a,n)=>(O(e,typeof a!="symbol"?a+"":a,n),n);import{h as H,i as j,j as G,k as X,_ as z,d as _,r as U,o as i,c as u,F as d,b as t,e as o,cd as K,ce as Y,ad as f,ah as g,s as J,ae as P,ai as v,aj as $,a1 as Z,G as W,f as k,cf as w,cg as S,g as C,ag as h,ch as D,aR as x,w as aa,v as ea,ci as la,as as ta,au as ia,av as V,aw as oa}from"./vendor.895d999a.js";import{l as L}from"./lodash.99b7d5a6.js";import{aU as y}from"./common.a8a0c601.js";var I=H({name:"QTr",props:{props:Object,noHover:Boolean},setup(e,{slots:a}){const n=j(()=>"q-tr"+(e.props===void 0||e.props.header===!0?"":" "+e.props.__trClass)+(e.noHover===!0?" q-tr--no-hover":""));return()=>G("tr",{class:n.value},X(a.default))}}),sa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgBAMAAAAQtmoLAAAAAXNSR0IB2cksfwAAAAlwSFlzAAALEwAACxMBAJqcGAAAACFQTFRFAAAAGHXw/4CA/////0BAPWvP/zMz/1VVHXPr/yoqGXXwMbl29QAAAAt0Uk5TAP8CAQQmBQOTBvB5XuhmAAABOUlEQVR4nO2XS24CMRBEe8ICkpUNSGTJkcIRuAFX4AgcgZtGyPOx+9/SREKKa2XsetNVMyMBAEVDNgRIlj+n1v9hAocWMBPhTGHA9qMSfwEcgxXaEmHgQnaYe1iXoJfwAEkEALemV+CAjIEfGbiygOwnEYzOAqBUGB2n6dPOCcwZysCzBgwMoPlRCbMzwCcF1AqjZx8Fcp1P9zemAFBi3F/LbwOoc3sqjK5DAHjMwV0ValsISNPqZAJLcl+FqrUXmKJ/ZaLUehqxmxqQ4gDdWxfIqwDzY2fPFGDjBpKciAfKiC1/VGdYYqNldSYAtJAEkNxpbYBkwkcEQCPIVycB0AhyQoFmRHIAIA0QARD8MgC8XwHKe4o3NYBXBzrQgQ504L2AgP4n4Pp3v4j9oavpBvCM+I/zA3QK4BcRtIxiGvlB7QAAAABJRU5ErkJggg==";var da=Object.defineProperty,na=Object.getOwnPropertyDescriptor,ra=(e,a,n,b)=>{for(var m=b>1?void 0:b?na(a,n):a,c=e.length-1,p;c>=0;c--)(p=e[c])&&(m=(b?p(a,n,m):p(m))||m);return b&&m&&da(a,n,m),m};const B={query:{a:"",b:"",c:""},dialog_add_update:{a:"",b:"",c:"",d:[],e:""}};let q=class extends _.Vue{constructor(){super(...arguments);A(this,"globals",J().appContext.config.globalProperties);A(this,"queryParams",{id:"query",queryLoading:!1,resetLoading:!1,params:L.exports.cloneDeep(B.query),input:[{placeholder:"Input1",type:"text",class:"w-250 m-r-15 m-b-15",id:"a"},{placeholder:"Input1",type:"text",class:"w-250 m-r-15 m-b-15",id:"a"},{placeholder:"Input1",type:"text",class:"w-250 m-r-15 m-b-15",id:"a"},{placeholder:"Input1",type:"text",class:"w-250 m-r-15 m-b-15",id:"a"},{placeholder:"Input2",type:"select",class:"w-250 m-r-15 m-b-15",selectOption:[{label:"option 1",value:"1"},{label:"option 2",value:"2"}],id:"b"},{placeholder:"Input3",type:"text",class:"w-250 m-r-15 m-b-15",id:"c"}]});A(this,"tableParams",{selected:[],loading:!1,data:[{name:"jen.he.female",sex:"female",c:"ccccccccccccccccc1",d:"ddddddddddddddddd1",e:"eeeeeeeeeeeeeeeee1",f:"fffffffffffffffff1",g:"ggggggggggggggggg1",h:"hhhhhhhhhhhhhhhhh1",i:"iiiiiiiiiiiiiiiii1"},{name:"jen.he.male",sex:"male",c:"ccccccccccccccccc2",d:"ddddddddddddddddd2",e:"eeeeeeeeeeeeeeeee2",f:"fffffffffffffffff2",g:"ggggggggggggggggg2",h:"hhhhhhhhhhhhhhhhh2",i:"iiiiiiiiiiiiiiiii2"}],pagination:{page:1,rowsPerPage:10,rowsNumber:2},column:[{name:"id",label:"ID",inSlot:!0},{name:"name",label:"Name",inSlot:!0},{name:"sex",label:"Sex",align:"left",field:a=>a.sex,format:a=>`${y(a)}`},{name:"c",label:"Table4",align:"left",field:a=>a.c,format:a=>`${y(a)}`},{name:"d",label:"Table5",align:"left",field:a=>a.d,format:a=>`${y(a)}`},{name:"e",label:"Table6",align:"left",field:a=>a.e,format:a=>`${y(a)}`},{name:"f",label:"Table7",align:"left",field:a=>a.f,format:a=>`${y(a)}`},{name:"g",label:"Table8",align:"left",field:a=>a.g,format:a=>`${y(a)}`},{name:"h",label:"Table9",align:"left",field:a=>a.h,format:a=>`${y(a)}`},{name:"i",label:"Table10",align:"left",field:a=>a.i,format:a=>`${y(a)}`},{name:"action",label:"$action",field:"action",align:"left",inSlot:!0}]});A(this,"dialogAddUpdateParams",{id:"dialog_add_update",dialogType:"add",clickLoading:!1,getDataLoading:!1,visiable:!1,title:"",params:L.exports.cloneDeep(B.dialog_add_update),input:[{inputModel:"a",type:"text",inputRules:[a=>a&&String(a).length>0||this.globals.$t("messages.required")],inputLabel:"Username"},{inputModel:"b",type:"text",inputRules:[a=>a&&String(a).length>0||this.globals.$t("messages.required")],inputClass:"input-password",inputLabel:"New password"},{inputModel:"c",type:"select",inputSelectOption:[{label:"option1",value:"1"},{label:"option2",value:"2"}],inputRules:[a=>a&&String(a).length>0||this.globals.$t("messages.required")],inputLabel:"select"},{inputModel:"d",type:"multiplSelect",multiple:!0,inputSelectOption:[{label:"option1",value:"1"},{label:"option2",value:"2"}],inputRules:[a=>a&&String(a).length>0||this.globals.$t("messages.required")],inputLabel:"Multipl Select"},{inputModel:"e",type:"date",inputRules:[a=>a&&String(a).length>0||this.globals.$t("messages.required")],inputClass:"",inputLabel:"Date"},{inputModel:"f",type:"mask-input",inputRules:[a=>a&&String(a).length>0||this.globals.$t("messages.required")],inputClass:"",inputLabel:"Mask Input"}]});A(this,"dialogUpload",{id:"dialog-upload-file",fileID:"dialog_upload_file",clickLoading:!1,getDataLoading:!1,visiable:!1,title:"",accept:".xls",params:{file:"",fileName:""}});A(this,"dialogDetailParams",{id:"dialog-upload-file",getDataLoading:!1,clickLoading:!1,visiable:!1,title:"Detail",params:[{label:"Name",value:"",id:"name",class:""},{label:"Sex",value:"",id:"sex",class:""},{label:"C",value:"",id:"c",class:""},{label:"D",value:"",id:"d",class:""},{label:"E",value:"",id:"e",class:""},{label:"F",value:"",id:"f",class:""},{label:"g",value:"",id:"g",class:""},{label:"h",value:"",id:"h",class:""},{label:"I",value:"",id:"i",class:""}]})}paginationInput(){this.tableParams.pagination.rowsNumber/this.tableParams.pagination.rowsPerPage<1||this.getData()}async handleQuery(){this.queryParams.queryLoading=!0,this.tableParams.pagination.page=1,await this.getData(),this.queryParams.queryLoading=!1}async handleResetQuery(){this.queryParams.resetLoading=!0,this.queryParams.params=L.exports.cloneDeep(B.query),this.tableParams.pagination.page=1,await this.getData(),this.queryParams.resetLoading=!1}handleClickAdd(){this.dialogAddUpdateParams.visiable=!0,this.dialogAddUpdateParams.dialogType="add",this.dialogAddUpdateParams.title="Add"}handlerClickUpdate(a){this.dialogAddUpdateParams.visiable=!0,this.dialogAddUpdateParams.dialogType="update",this.dialogAddUpdateParams.title="Update"}handleClickUpload(){this.dialogUpload.visiable=!0,this.dialogUpload.title="Upload",this.$nextTick(()=>{this.$refs[this.dialogUpload.fileID].type="text",this.dialogUpload.params.fileName="",this.dialogUpload.params.file="",setTimeout(()=>{this.$refs[this.dialogUpload.fileID].type="file",this.$refs[this.dialogUpload.fileID].value=""},100)})}handleClickUploadFile(){this.$refs[this.dialogUpload.fileID].click()}uploadFileSuccess(){const a=this.$refs[this.dialogUpload.fileID].files;let n=Array.prototype.slice.call(a);n=n.slice(0,1),n.forEach(b=>{this.dialogUpload.params.fileName=b.name,this.dialogUpload.params.file=b})}handlerClickDetail(a){const n=(c,p)=>{switch(p){case"name":return`${c[p]}-description`;default:return c[p]||"--"}},b=(c,p)=>{switch(p){case"sex":return"text-primary";default:return""}},m=L.exports.cloneDeep(this.dialogDetailParams.params);for(let c of m)for(let p in a)c.id===p&&(c.value=n(a,p),c.class=b(a,p));this.dialogDetailParams.params=m,this.dialogDetailParams.visiable=!0}monitorDialogUploadHide(){this.dialogUpload.params.fileName="",this.dialogUpload.params.file=""}dialogAddUpdateCloseEvent(a){this.dialogAddUpdateParams.visiable=!1}dialogAddUpdateBeforeHideEvent(a){a.params&&(this.dialogAddUpdateParams.params=a.params)}dialogUploadCloseEvent(a){this.dialogUpload.visiable=!1}dialogUploadBeforeHideEvent(a){a.params&&(this.dialogUpload.params=a.params)}dialogDetailCloseEvent(a){this.dialogDetailParams.visiable=!1}dialogDetailBeforeHideEvent(a){a.params&&(this.dialogAddUpdateParams.params=a.params)}getData(){try{this.tableParams.loading=!0,this.tableParams.loading=!1}catch{this.tableParams.loading=!1}finally{return Promise.resolve()}}async dialogAddUpdateConfirmEvent(){try{this.dialogAddUpdateParams.clickLoading=!0,this.dialogAddUpdateParams.clickLoading=!1,this.dialogAddUpdateParams.visiable=!1,this.$globalMessage.show({type:"success",content:this.$t("messages.success")}),this.getData()}catch{this.dialogAddUpdateParams.clickLoading=!1}}async handlerClickDelete(a){try{await this.$globalConfirm.show({title:this.$t("messages.tishi"),color:"primary",content:this.$t("messages.areYouSure"),confirmButtonText:this.$t("action.yes")}),this.$globalMessage.show({type:"success",content:this.$t("messages.success")}),this.getData()}catch{}}async hanleCLickUploadConfirm(){try{new FormData().append("file",this.dialogUpload.params.file),this.dialogUpload.clickLoading=!0,this.$globalMessage.show({type:"success",content:this.$t("messages.success")}),this.dialogUpload.clickLoading=!1,this.dialogUpload.visiable=!1,this.getData()}catch{this.dialogUpload.clickLoading=!1}}};q=ra([_.Component({name:"myComponentTableBeta"})],q);const pa=q,ua={class:"query-form-and-action"},ca=d("div",{class:"action"},null,-1),ga={class:"row"},ma={class:"row items-start"},fa={class:"full-width justify-end row"},ha={key:0},ba={key:1,class:"text-left"},ya={key:0},Aa={key:1},Ua=["onClick"],Pa={key:2},va=["onClick"],Ca=["onClick"],ka={class:"text-left"},wa=d("div",null," this is expand detail , it maybe json string or other special text ",-1),Da={class:"row q-col-gutter-x-md"},La={class:"dialog-upload-form"},Ma=["accept"],$a={class:"container"},Ia=d("img",{src:sa,alt:""},null,-1),Ba=d("p",{class:"click"},"Click to upload",-1),qa=d("p",{class:"format"},"File type is: xlsx",-1),Sa={key:0,class:"fileName"},Va={class:"upload-limit"},_a={class:"link-type"};function Fa(e,a,n,b,m,c){const p=U("MyPagination"),F=U("MyFormSelect"),Q=U("MyFormDate"),E=U("MyFormMultipleSelect"),R=U("MyFormInput"),T=U("MyMaskInput"),M=U("MyDialog");return i(),u("div",null,[d("div",ua,[ca,t(K,{ref:"queryFrom"},{default:o(()=>[d("div",ga,[d("div",ma,[(i(!0),u(P,null,v(e.queryParams.input,(l,s)=>(i(),u("div",{key:s},[l.type==="text"?(i(),f(Z,{key:0,modelValue:e.queryParams.params[l.id],"onUpdate:modelValue":r=>e.queryParams.params[l.id]=r,modelModifiers:{trim:!0},type:l.inputType,class:$(["",l.class]),label:l.placeholder,autocapitalize:"off",autocomplete:"new-password",autocorrect:"off",clearable:"",dense:"",outlined:"","dropdown-icon":"app:topbar-arrow-bottom","clear-icon":"app:clear",spellcheck:!1},null,8,["modelValue","onUpdate:modelValue","type","class","label"])):g("",!0),l.type==="select"?(i(),f(W,{key:1,class:$(["",l.class]),modelValue:e.queryParams.params[l.id],"onUpdate:modelValue":r=>e.queryParams.params[l.id]=r,options:l.selectOption,label:l.placeholder,spellcheck:!1,autocapitalize:"off",autocomplete:"new-password",autocorrect:"off",clearable:"",dense:"","options-dense":"",outlined:"","emit-value":"","dropdown-icon":"app:topbar-arrow-bottom","clear-icon":"app:clear","map-options":""},null,8,["class","modelValue","onUpdate:modelValue","options","label"])):g("",!0)]))),128))]),d("div",null,[t(k,{color:"primary",icon:"search",label:e.$t("action.search"),"no-caps":"",class:"m-r-15",loading:e.queryParams.queryLoading,onClick:e.handleQuery},null,8,["label","loading","onClick"]),t(k,{icon:"restart_alt",label:e.$t("action.reset"),outline:"",color:"primary","no-caps":"",loading:e.queryParams.resetLoading,onClick:e.handleResetQuery},null,8,["label","loading","onClick"])])])]),_:1},512)]),t(Y,{flat:"",bordered:"",columns:e.tableParams.column,rows:e.tableParams.data,loading:e.tableParams.loading,pagination:e.tableParams.pagination,"hide-pagination":"","no-data-label":e.$t("tip.noData"),class:"my-table","selected-rows-label":l=>`select ${l} ${e.$t("table.per")}`,selection:"multiple",selected:e.tableParams.selected,"onUpdate:selected":a[0]||(a[0]=l=>e.tableParams.selected=l),"row-key":"name"},{top:o(()=>[d("div",fa,[t(k,{color:"primary",icon:"add",label:"Add","no-caps":"",class:"m-r-15",onClick:e.handleClickAdd},null,8,["onClick"]),t(k,{icon:"file_upload",label:"Upload",outline:"",color:"primary","no-caps":"",onClick:e.handleClickUpload},null,8,["onClick"])])]),header:o(l=>[t(I,{props:l},{default:o(()=>[t(w,{style:{"text-align":"left"}},{default:o(()=>[t(S,{color:"primary",modelValue:l.selected,"onUpdate:modelValue":s=>l.selected=s},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(w,{"auto-width":""},{default:o(()=>[C("Expand")]),_:1}),(i(!0),u(P,null,v(l.cols,s=>(i(),f(w,{key:s.name,props:l,style:{"text-align":"left"}},{default:o(()=>[C(h(s.label.indexOf("$")!==-1?e.$t(`table.${s.label.replace("$","")}`):s.label),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"header-cell-action":o(l=>[t(w,{props:l},null,8,["props"])]),body:o(l=>[t(I,{props:l},{default:o(()=>[t(D,{class:"text-left"},{default:o(()=>[t(S,{color:"primary",modelValue:l.selected,"onUpdate:modelValue":s=>l.selected=s},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),t(D,{"auto-width":""},{default:o(()=>[t(x,{modelValue:l.expand,"onUpdate:modelValue":s=>l.expand=s,"checked-icon":"add","unchecked-icon":"remove"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),(i(!0),u(P,null,v(l.cols,s=>(i(),f(D,{key:s.name,props:l,class:"text-left"},{default:o(()=>[s.inSlot?(i(),u("div",ba,[s.name==="id"?(i(),u("div",ya,[d("span",null,h(e.tableParams.data.indexOf(l.row)+1),1)])):g("",!0),s.name==="name"?(i(),u("div",Aa,[d("span",{class:"link-type",onClick:r=>e.handlerClickDetail(l.row)},h(l.row.name),9,Ua)])):g("",!0),s.name==="action"?(i(),u("div",Pa,[d("span",{class:"in-table-link-button",onClick:r=>e.handlerClickUpdate(l.row)},h(e.$t("action.update")),9,va),d("span",{class:"in-table-delete-button m-l-10",onClick:r=>e.handlerClickDelete(l.row)},h(e.$t("action.delete")),9,Ca)])):g("",!0)])):(i(),u("span",ha,h(s.value),1))]),_:2},1032,["props"]))),128))]),_:2},1032,["props"]),aa(t(I,{props:l},{default:o(()=>[t(D,{colspan:"100%"},{default:o(()=>[d("div",ka,"Name:"+h(l.row.name),1),wa]),_:2},1024)]),_:2},1032,["props"]),[[ea,l.expand]])]),loading:o(()=>[t(la,{color:"primary",showing:""})]),_:1},8,["columns","rows","loading","pagination","no-data-label","selected-rows-label","selected"]),e.tableParams.pagination.rowsNumber>0?(i(),f(p,{key:0,paginationParams:e.tableParams.pagination,onPagination:e.paginationInput},null,8,["paginationParams","onPagination"])):g("",!0),t(M,{option:{id:e.dialogAddUpdateParams.id,dialogType:e.dialogAddUpdateParams.dialogType,clickLoading:e.dialogAddUpdateParams.clickLoading,getDataLoading:e.dialogAddUpdateParams.getDataLoading,visiable:e.dialogAddUpdateParams.visiable,title:e.dialogAddUpdateParams.title,params:e.dialogAddUpdateParams.params},onClose:e.dialogAddUpdateCloseEvent,onConfirm:e.dialogAddUpdateConfirmEvent,onBeforeHide:e.dialogAddUpdateBeforeHideEvent},{default:o(()=>[d("div",Da,[(i(!0),u(P,null,v(e.dialogAddUpdateParams.input,(l,s)=>(i(),u("div",{key:s,class:"col-6"},[l.type==="select"?(i(),f(F,{key:0,option:{inputRules:l.inputRules,inputClass:l.inputClass,inputModel:e.dialogAddUpdateParams.params[l.inputModel],inputLabel:l.inputLabel,inputSelectOption:l.inputSelectOption},onInput:r=>e.dialogAddUpdateParams.params[l.inputModel]=r},null,8,["option","onInput"])):g("",!0),l.type==="date"?(i(),f(Q,{key:1,option:{inputRules:l.inputRules,inputClass:l.inputClass,inputModel:e.dialogAddUpdateParams.params[l.inputModel],inputLabel:l.inputLabel},onInput:r=>e.dialogAddUpdateParams.params[l.inputModel]=r},null,8,["option","onInput"])):g("",!0),l.type==="multiplSelect"?(i(),f(E,{key:2,option:{inputRules:l.inputRules,inputClass:l.inputClass,inputModel:e.dialogAddUpdateParams.params[l.inputModel],inputLabel:l.inputLabel,inputSelectOption:l.inputSelectOption,multiple:l.multiple},onInput:r=>e.dialogAddUpdateParams.params[l.inputModel]=r},null,8,["option","onInput"])):g("",!0),l.type==="text"?(i(),f(R,{key:3,option:{inputModel:e.dialogAddUpdateParams.params[l.inputModel],inputRules:l.inputRules,inputClass:l.inputClass,inputLabel:l.inputLabel},onInput:r=>e.dialogAddUpdateParams.params[l.inputModel]=r},null,8,["option","onInput"])):g("",!0),l.type==="mask-input"?(i(),f(T,{key:4,option:{inputModel:e.dialogAddUpdateParams.params[l.inputModel],inputRules:l.inputRules,inputClass:l.inputClass,inputLabel:l.inputLabel,mask:"####/####/####/####",hint:"####/####/####/####"},onInput:r=>e.dialogAddUpdateParams.params[l.inputModel]=r},null,8,["option","onInput"])):g("",!0)]))),128))])]),_:1},8,["option","onClose","onConfirm","onBeforeHide"]),t(M,{option:{id:e.dialogUpload.id,dialogType:"upload",clickLoading:e.dialogUpload.clickLoading,getDataLoading:e.dialogUpload.getDataLoading,visiable:e.dialogUpload.visiable,title:e.dialogUpload.title,params:e.dialogUpload.params},onClose:e.dialogUploadCloseEvent,onConfirm:e.hanleCLickUploadConfirm,onBeforeHide:e.dialogUploadBeforeHideEvent},{default:o(()=>[d("div",La,[d("input",{type:"file",class:"hide",ref:e.dialogUpload.fileID,accept:e.dialogUpload.accept,draggable:!1,onChange:a[1]||(a[1]=(...l)=>e.uploadFileSuccess&&e.uploadFileSuccess(...l))},null,40,Ma),d("div",$a,[d("div",{class:"center",onClick:a[2]||(a[2]=(...l)=>e.handleClickUploadFile&&e.handleClickUploadFile(...l))},[Ia,Ba,qa,e.dialogUpload.params.fileName?(i(),u("p",Sa,h(e.dialogUpload.params.fileName),1)):g("",!0)])]),d("div",Va,[d("span",_a,h(e.$t("action.download_template")),1),C(" Here's some text ")])])]),_:1},8,["option","onClose","onConfirm","onBeforeHide"]),t(M,{option:{id:e.dialogDetailParams.id,dialogType:"detail",clickLoading:e.dialogDetailParams.clickLoading,getDataLoading:e.dialogDetailParams.getDataLoading,visiable:e.dialogDetailParams.visiable,title:e.dialogDetailParams.title,params:e.dialogDetailParams.params,showAction:!1},onClose:e.dialogDetailCloseEvent,onBeforeHide:e.dialogDetailBeforeHideEvent},{default:o(()=>[t(ta,{class:"row q-col-gutter-x-md"},{default:o(()=>[(i(!0),u(P,null,v(e.dialogDetailParams.params,(l,s)=>(i(),f(oa,{key:s,clickable:!1,class:"col-6"},{default:o(()=>[t(ia,null,{default:o(()=>[t(V,{caption:""},{default:o(()=>[C(h(l.label)+"\uFF1A",1)]),_:2},1024),t(V,{class:$(l.class)},{default:o(()=>[C(h(l.value),1)]),_:2},1032,["class"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1},8,["option","onClose","onBeforeHide"])])}var Na=z(pa,[["render",Fa]]);export{Na as default};
