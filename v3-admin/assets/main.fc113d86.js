var At=Object.defineProperty;var Bt=(e,t,o)=>t in e?At(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o;var le=(e,t,o)=>(Bt(e,typeof t!="symbol"?t+"":t,o),o);import{A as Se,aX as de,aY as Ft,aZ as zt,a_ as Dt,U as Ie,a$ as Ge,aW as Nt,s as me,aV as Ht}from"./common.fcce7b8d.js";import{aO as P,I as S,i as j,z as q,A as Oe,B as Te,bc as ue,ac as z,b0 as I,bd as J,o as p,c as _,az as G,aj as ce,b as M,e as B,ae as ne,g as dt,ag as oe,ah as x,ad as F,bj as Z,bt as _e,bm as ge,bq as ct,al as Wt,bv as we,bD as jt,cs as $e,r as A,F as k,ao as Re,ai as Yt,bf as Xt,d as ie,_ as qt,aP as Ut,X as Gt,f as Ke,cl as Kt,cu as Zt,cw as Qt,aI as Jt,cx as eo}from"./vendor.274cf1c6.js";import{i as Ze}from"./shared/i18n/main.8d9e5e9b.js";import{g as to}from"./shared/axios/main.61673788.js";import{t as ht,i as oo,a as no,u as ao,b as vt,c as io,T as Ce,d as ke,_ as he,e as ft,f as ro,g as pt,h as mt,j as gt,k as lo,o as so,l as uo,m as co,E as ho,n as vo,p as fo,q as po,r as mo,s as wt,v as te,w as go,x as ye,y as wo,z as yo,A as bo,B as $o,C as So,D as Eo,F as To,G as _o,H as ko,I as Po,J as Io,K as Co,L as Mo,M as Ro,N as Oo,O as xo,P as Lo,Q as Vo,R as Ao,S as Bo,U as Fo,V as zo,W as Do,X as No,Y as Ho,Z as Wo,$ as jo,a0 as Yo,a1 as Xo,a2 as qo,a3 as Uo,a4 as Go,a5 as Ko,a6 as Zo,a7 as Qo,a8 as Jo,a9 as en,aa as tn,ab as on,ac as nn,ad as an,ae as rn,af as ln,ag as sn,ah as un,ai as dn,aj as cn,ak as hn,al as vn,am as fn,an as pn,ao as mn,ap as gn,aq as wn,ar as yn,as as bn,at as $n,au as Sn,av as En,aw as Tn,ax as _n,ay as kn,az as Pn,aA as In,aB as Cn,aC as Mn,aD as Rn,aE as On,aF as xn,aG as Ln,aH as Vn,aI as An,aJ as Bn,aK as Fn,aL as zn,aM as Dn,aN as Nn,aO as Hn,aP as Wn,aQ as jn,aR as Yn,aS as Xn,aT as qn,aU as Un,aV as Gn,aW as Kn,aX as Zn,aY as Qn,aZ as Jn,a_ as ea,a$ as ta,b0 as oa,b1 as na,b2 as aa,b3 as ia,b4 as ra,b5 as la,b6 as sa,b7 as ua,b8 as da,b9 as ca}from"./element-plus.635b968d.js";const ha={mounted(e,t){}},va={mounted(e,t){const{value:o}=t;[null,void 0,""].includes(o)&&(e.innerHTML="--",e.style="cursor:text;color:var(--q-black); pointer-events: none! important;font-family:inherit")}},fa={mounted(e,t){e.addEventListener("mouseenter",()=>{let o=e.clientWidth;e.scrollWidth>o?Se.SET_TOOL_TIP_CLASS(""):Se.SET_TOOL_TIP_CLASS("hide-tooltip")})}};var Qe=Object.freeze(Object.defineProperty({__proto__:null,permission:ha,replaceEmpty:va,tooltip:fa},Symbol.toStringTag,{value:"Module"}));const pa=P({name:"ElTooltipV2Root"}),ma=P({...pa,props:ht,setup(e,{expose:t}){const o=e,n=S(o.defaultOpen),a=S(null),i=j({get:()=>oo(o.open)?n.value:o.open,set:g=>{var b;n.value=g,(b=o["onUpdate:open"])==null||b.call(o,g)}}),r=j(()=>no(o.delayDuration)&&o.delayDuration>0),{start:l,stop:s}=ao(()=>{i.value=!0},j(()=>o.delayDuration),{immediate:!1}),u=vt("tooltip-v2"),c=io(),d=()=>{s(),i.value=!0},v=()=>{I(r)?l():d()},y=d,$=()=>{s(),i.value=!1};return q(i,g=>{var b;g&&(document.dispatchEvent(new CustomEvent(Ce)),y()),(b=o.onOpenChange)==null||b.call(o,g)}),Oe(()=>{document.addEventListener(Ce,$)}),Te(()=>{s(),document.removeEventListener(Ce,$)}),ue(ke,{contentId:c,triggerRef:a,ns:u,onClose:$,onDelayOpen:v,onOpen:y}),t({onOpen:y,onClose:$}),(g,b)=>z(g.$slots,"default",{open:I(i)})}});var ga=he(ma,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/root.vue"]]);const wa=P({name:"ElTooltipV2Arrow"}),ya=P({...wa,props:{...ft,...ro},setup(e){const t=e,{ns:o}=J(ke),{arrowRef:n}=J(pt),a=j(()=>{const{style:i,width:r,height:l}=t,s=o.namespace.value;return{[`--${s}-tooltip-v2-arrow-width`]:`${r}px`,[`--${s}-tooltip-v2-arrow-height`]:`${l}px`,[`--${s}-tooltip-v2-arrow-border-width`]:`${r/2}px`,[`--${s}-tooltip-v2-arrow-cover-width`]:r/2-1,...i||{}}});return(i,r)=>(p(),_("span",{ref_key:"arrowRef",ref:n,style:G(I(a)),class:ce(I(o).e("arrow"))},null,6))}});var Je=he(ya,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/arrow.vue"]]);const ba=["data-side"],$a=P({name:"ElTooltipV2Content"}),Sa=P({...$a,props:{...mt,...gt},setup(e){const t=e,{triggerRef:o,contentId:n}=J(ke),a=S(t.placement),i=S(t.strategy),r=S(null),{referenceRef:l,contentRef:s,middlewareData:u,x:c,y:d,update:v}=lo({placement:a,strategy:i,middleware:j(()=>{const w=[so(t.offset)];return t.showArrow&&w.push(uo({arrowRef:r})),w})}),y=co().nextZIndex(),$=vt("tooltip-v2"),f=j(()=>a.value.split("-")[0]),g=j(()=>({position:I(i),top:`${I(d)||0}px`,left:`${I(c)||0}px`,zIndex:y})),b=j(()=>{if(!t.showArrow)return{};const{arrow:w}=I(u);return{[`--${$.namespace.value}-tooltip-v2-arrow-x`]:`${w==null?void 0:w.x}px`||"",[`--${$.namespace.value}-tooltip-v2-arrow-y`]:`${w==null?void 0:w.y}px`||""}}),E=j(()=>[$.e("content"),$.is("dark",t.effect==="dark"),$.is(I(i)),t.contentClass]);return q(r,()=>v()),q(()=>t.placement,w=>a.value=w),Oe(()=>{q(()=>t.reference||o.value,w=>{l.value=w||void 0},{immediate:!0})}),ue(pt,{arrowRef:r}),(w,L)=>(p(),_("div",{ref_key:"contentRef",ref:s,style:G(I(g)),"data-tooltip-v2-root":""},[w.nowrap?x("v-if",!0):(p(),_("div",{key:0,"data-side":I(f),class:ce(I(E))},[z(w.$slots,"default",{contentStyle:I(g),contentClass:I(E)}),M(I(ho),{id:I(n),role:"tooltip"},{default:B(()=>[w.ariaLabel?(p(),_(ne,{key:0},[dt(oe(w.ariaLabel),1)],64)):z(w.$slots,"default",{key:1})]),_:3},8,["id"]),z(w.$slots,"arrow",{style:G(I(b)),side:I(f)})],10,ba))],4))}});var et=he(Sa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/content.vue"]]);const Ea=vo({setRef:{type:fo(Function),required:!0},onlyChild:Boolean});var Ta=P({props:Ea,setup(e,{slots:t}){const o=S(),n=mo(o,a=>{a?e.setRef(a.nextElementSibling):e.setRef(null)});return()=>{var a;const[i]=((a=t.default)==null?void 0:a.call(t))||[],r=e.onlyChild?po(i.children):i.children;return M(ne,{ref:n},[r])}}});const _a=P({name:"ElTooltipV2Trigger"}),ka=P({..._a,props:{...gt,...wt},setup(e){const t=e,{onClose:o,onOpen:n,onDelayOpen:a,triggerRef:i,contentId:r}=J(ke);let l=!1;const s=E=>{i.value=E},u=()=>{l=!1},c=te(t.onMouseEnter,a),d=te(t.onMouseLeave,o),v=te(t.onMouseDown,()=>{o(),l=!0,document.addEventListener("mouseup",u,{once:!0})}),y=te(t.onFocus,()=>{l||n()}),$=te(t.onBlur,o),f=te(t.onClick,E=>{E.detail===0&&o()}),g={blur:$,click:f,focus:y,mousedown:v,mouseenter:c,mouseleave:d},b=(E,w,L)=>{E&&Object.entries(w).forEach(([Y,T])=>{E[L](Y,T)})};return q(i,(E,w)=>{b(E,g,"addEventListener"),b(w,g,"removeEventListener"),E&&E.setAttribute("aria-describedby",r.value)}),Te(()=>{b(i.value,g,"removeEventListener"),document.removeEventListener("mouseup",u)}),(E,w)=>E.nowrap?(p(),F(I(Ta),{key:0,"set-ref":s,"only-child":""},{default:B(()=>[z(E.$slots,"default")]),_:3})):(p(),_("button",Z({key:1,ref_key:"triggerRef",ref:i},E.$attrs),[z(E.$slots,"default")],16))}});var Pa=he(ka,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/trigger.vue"]]);const Ia=P({name:"ElTooltipV2"}),Ca=P({...Ia,props:go,setup(e){const o=_e(e),n=ge(ye(o,Object.keys(ft))),a=ge(ye(o,Object.keys(mt))),i=ge(ye(o,Object.keys(ht))),r=ge(ye(o,Object.keys(wt)));return(l,s)=>(p(),F(ga,we(jt(i)),{default:B(({open:u})=>[M(Pa,Z(r,{nowrap:""}),{default:B(()=>[z(l.$slots,"trigger")]),_:3},16),(p(),F(ct,{to:l.to,disabled:!l.teleported},[l.fullTransition?(p(),F(Wt,we(Z({key:0},l.transitionProps)),{default:B(()=>[l.alwaysOn||u?(p(),F(et,we(Z({key:0},a)),{arrow:B(({style:c,side:d})=>[l.showArrow?(p(),F(Je,Z({key:0},n,{style:c,side:d}),null,16,["style","side"])):x("v-if",!0)]),default:B(()=>[z(l.$slots,"default")]),_:3},16)):x("v-if",!0)]),_:2},1040)):(p(),_(ne,{key:1},[l.alwaysOn||u?(p(),F(et,we(Z({key:0},a)),{arrow:B(({style:c,side:d})=>[l.showArrow?(p(),F(Je,Z({key:0},n,{style:c,side:d}),null,16,["style","side"])):x("v-if",!0)]),default:B(()=>[z(l.$slots,"default")]),_:3},16)):x("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var Ma=he(Ca,[["__file","/home/runner/work/element-plus/element-plus/packages/components/tooltip-v2/src/tooltip.vue"]]);const Ra=wo(Ma);var Oa=[yo,bo,$o,So,Eo,To,_o,ko,Po,Io,Co,Mo,Ro,Oo,xo,Lo,Vo,Ao,Bo,Fo,zo,Do,No,Ho,Wo,jo,Yo,Xo,qo,Uo,Go,Ko,Zo,Qo,Jo,en,tn,on,nn,an,rn,ln,sn,un,dn,cn,hn,vn,fn,pn,mn,gn,wn,yn,bn,$n,Sn,En,Tn,_n,kn,Pn,In,Cn,Mn,Rn,On,xn,Ln,Vn,An,Bn,Fn,zn,Dn,Nn,Hn,Wn,jn,Yn,Xn,qn,Un,Gn,Kn,Zn,Qn,Jn,Ra,ea,ta,oa,na,aa],xa=[ia,ra,la,sa,ua,da],La=ca([...Oa,...xa]);const Va=["/login"],yt=e=>e.path==="/login"?`${me.title}`:e.matched[1]?e.matched[0].name===e.matched[1].name?`${me.title} ${Ze[Se.language].routes[e.meta.title]}`:`${me.title} ${Ze[Se.language].routes[e.meta.title]}`:`${me.title}`;de.beforeEach(async(e,t,o)=>{if(Ft()&&zt()&&Dt())if(e.path==="/login")o({path:"/dashboard"}),$e.stop();else if(Ie.introduction)o();else try{await Ie.getUserInfo(),Ge.GenerateRoutes();for(let n of Ge.dynamicRoutes)de.addRoute(n);o({...e,replace:!0})}catch{Ie.ResetToken(),o(`/login?redirect=${e.path}`),$e.stop()}else Va.indexOf(e.path)!==-1?o():(o(`/login?redirect=${e.path}`),$e.stop())});de.afterEach(e=>{$e.stop(),document.title=yt(e)});Nt.watch((e,t)=>e.App.language,(e,t)=>{de.currentRoute.value&&(document.title=yt(de.currentRoute.value))});var bt=Symbol(),$t=Symbol(),St=Symbol();function Aa(e){var t=S([]),o=function(r,l){return l?Array.prototype.indexOf.call(r,l):-1},n=function(r){var l,s,u=(s=(l=r[0].originRef)===null||l===void 0?void 0:l.parentNode)===null||s===void 0?void 0:s.children;u&&u.length&&r.sort(function(c,d){return o(u,c.originRef)-o(u,d.originRef)})},a=function(r){var l=t.value.findIndex(function(s){var u=s.key;return r.key===u});l>-1?t.value.splice(l,1,r):(t.value.push(r),n(t.value))},i=function(r){var l=t.value.filter(function(u){return u.key!==r}),s=l.length-1;t.value=l,e.value=Math.max(Math.min(e.value,s),0)};return{items:t,updateItem:a,removeItem:i}}function Ba(e,t,o){var n=S(!1),a=function(){n.value=!1,o()},i=function(r){var l=e.value.findIndex(function(s){return s.key===r});l>-1&&(t.value=l,n.value=!0,o())};return{visible:n,handleHide:a,handleShow:i}}function Fa(e){var t=S(0),o=function(n){t.value=n,e()};return{index:t,updateIndex:o}}var xe=P({});const za={class:"PhotoView__Spinner"},Da=k("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"36",height:"36",fill:"white"},[k("path",{opacity:".25",d:"M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"}),k("path",{d:"M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z"})],-1),Na=[Da];function Ha(e,t,o,n,a,i){return p(),_("div",za,Na)}xe.render=Ha;xe.__file="src/PhotoView/Spinner.vue";function Wa(e,t,o){var n,a=window.innerWidth,i=window.innerHeight,r=o%180!==0;r&&(n=[i,a],a=n[0],i=n[1]);var l,s,u=a/e,c=i/t;return e<a&&t<i?(l=e,s=t):u<c?(l=a,s=a*(t/e)):(l=i*(e/t),s=i),{width:l,height:s}}function ja(e){var t=S(0),o=S(0),n=S(0),a=S(0),i=S(!1);function r(s,u,c){var d=Wa(s,u,c);n.value=d.width,a.value=d.height}var l=function(s){i.value=!1;var u=new Image;u.onload=function(){t.value=u.naturalWidth,o.value=u.naturalHeight,r(t.value,o.value,0),i.value=!0},u.src=s};return l(e.value),q(e,function(){l(e.value)}),{width:n,height:a,loaded:i,naturalWidth:t,naturalHeight:o,setSuitableImageSize:r}}function Ee(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ya=typeof global=="object"&&global&&global.Object===Object&&global,Xa=Ya,qa=typeof self=="object"&&self&&self.Object===Object&&self,Ua=Xa||qa||Function("return this")(),Et=Ua,Ga=function(){return Et.Date.now()},Me=Ga,Ka=/\s/;function Za(e){for(var t=e.length;t--&&Ka.test(e.charAt(t)););return t}var Qa=/^\s+/;function Ja(e){return e&&e.slice(0,Za(e)+1).replace(Qa,"")}var ei=Et.Symbol,ae=ei,Tt=Object.prototype,ti=Tt.hasOwnProperty,oi=Tt.toString,se=ae?ae.toStringTag:void 0;function ni(e){var t=ti.call(e,se),o=e[se];try{e[se]=void 0;var n=!0}catch{}var a=oi.call(e);return n&&(t?e[se]=o:delete e[se]),a}var ai=Object.prototype,ii=ai.toString;function ri(e){return ii.call(e)}var li="[object Null]",si="[object Undefined]",tt=ae?ae.toStringTag:void 0;function ui(e){return e==null?e===void 0?si:li:tt&&tt in Object(e)?ni(e):ri(e)}function di(e){return e!=null&&typeof e=="object"}var ci="[object Symbol]";function _t(e){return typeof e=="symbol"||di(e)&&ui(e)==ci}var ot=0/0,hi=/^[-+]0x[0-9a-f]+$/i,vi=/^0b[01]+$/i,fi=/^0o[0-7]+$/i,pi=parseInt;function nt(e){if(typeof e=="number")return e;if(_t(e))return ot;if(Ee(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ee(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Ja(e);var o=vi.test(e);return o||fi.test(e)?pi(e.slice(2),o?2:8):hi.test(e)?ot:+e}var mi="Expected a function",gi=Math.max,wi=Math.min;function kt(e,t,o){var n,a,i,r,l,s,u=0,c=!1,d=!1,v=!0;if(typeof e!="function")throw new TypeError(mi);t=nt(t)||0,Ee(o)&&(c=!!o.leading,d="maxWait"in o,i=d?gi(nt(o.maxWait)||0,t):i,v="trailing"in o?!!o.trailing:v);function y(T){var O=n,D=a;return n=a=void 0,u=T,r=e.apply(D,O),r}function $(T){return u=T,l=setTimeout(b,t),c?y(T):r}function f(T){var O=T-s,D=T-u,K=t-O;return d?wi(K,i-D):K}function g(T){var O=T-s,D=T-u;return s===void 0||O>=t||O<0||d&&D>=i}function b(){var T=Me();if(g(T))return E(T);l=setTimeout(b,f(T))}function E(T){return l=void 0,v&&n?y(T):(n=a=void 0,r)}function w(){l!==void 0&&clearTimeout(l),u=0,n=s=a=l=void 0}function L(){return l===void 0?r:E(Me())}function Y(){var T=Me(),O=g(T);if(n=arguments,a=this,s=T,O){if(l===void 0)return $(s);if(d)return clearTimeout(l),l=setTimeout(b,t),y(s)}return l===void 0&&(l=setTimeout(b,t)),r}return Y.cancel=w,Y.flush=L,Y}var yi="Expected a function";function Le(e,t,o){var n=!0,a=!0;if(typeof e!="function")throw new TypeError(yi);return Ee(o)&&(n="leading"in o?!!o.leading:n,a="trailing"in o?!!o.trailing:a),kt(e,t,{leading:n,maxWait:t,trailing:a})}function bi(e,t,o,n){var a=Le(function(){n(e.value,t.value,o.value)},8);window.addEventListener("resize",a),Te(function(){window.removeEventListener("resize",a)})}var X;(function(e){e[e.None=0]="None",e[e.In=1]="In",e[e.Out=2]="Out"})(X||(X={}));var C;(function(e){e[e.Normal=0]="Normal",e[e.X=1]="X",e[e.Y=2]="Y",e[e.Scale=3]="Scale"})(C||(C={}));var V;(function(e){e[e.Left=0]="Left",e[e.Right=1]="Right",e[e.Top=2]="Top",e[e.Bottom=3]="Bottom"})(V||(V={}));function $i(e){if(e){var t=window.innerWidth,o=window.innerHeight,n=e.left+e.width/2-t/2,a=e.top+e.height/2-o/2;return"".concat(n,"px ").concat(a,"px")}return null}var Q=typeof document!="undefined"&&"ontouchstart"in document.documentElement,Si=20,at=10,be=40,it=6;function Ei(e,t){var o=0,n=kt(function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];o=0,e.apply(void 0,a)},300);return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];o+=1,n.apply(void 0,i),o>=2&&(n.cancel(),o=0,t.apply(void 0,i))}}function rt(e){var t=e.x,o=e.y,n=e.clientX,a=e.clientY,i=e.fromScale,r=e.toScale,l=window.innerWidth,s=window.innerHeight,u=l/2+t,c=s/2+o,d=r/i,v=-(n-u)*(d-1),y=-(a-c)*(d-1);return{x:v+t,y:y+o,scale:r}}function Pt(e){var t,o=e.width,n=e.height,a=e.scale,i=e.rotate,r=i%180!==0;r&&(t=[n,o],o=t[0],n=t[1]);var l=window.innerWidth,s=window.innerHeight,u=o*a,c=n*a,d,v,y,$;return u>l?(d=(u-l)/2,v=-(u-l)/2):(d=0,v=0),c>s?(y=(c-s)/2,$=-(c-s)/2):(y=0,$=0),{edgeLeft:d,edgeRight:v,edgeTop:y,edgeBottom:$}}function Ti(e){var t=e.width,o=e.height,n=e.scale,a=e.rotate,i=e.x,r=e.y,l=Pt({width:t,height:o,scale:n,rotate:a}),s=[];return i===l.edgeLeft&&s.push(V.Left),i===l.edgeRight&&s.push(V.Right),r===l.edgeTop&&s.push(V.Top),r===l.edgeBottom&&s.push(V.Bottom),s}function _i(e){var t=e.width,o=e.height,n=e.scale,a=e.rotate,i=e.x,r=e.y,l=Pt({width:t,height:o,scale:n,rotate:a}),s=l.edgeLeft,u=l.edgeRight,c=l.edgeTop,d=l.edgeBottom;return i>s&&(i=s),i<u&&(i=u),r>c&&(r=c),r<d&&(r=d),{x:i,y:r,scale:n}}function lt(e){var t=e.touches[0],o=t.clientX,n=t.clientY;if(e.touches.length>=2){var a=e.touches[1],i=a.clientX,r=a.clientY;return{clientX:(o+i)/2,clientY:(n+r)/2,touchLength:Math.sqrt(Math.pow(i-o,2)+Math.pow(r-n,2))}}return{clientX:o,clientY:n,touchLength:0}}function ki(e,t,o,n,a,i,r,l,s){var u=S(0),c=S(0),d=S(1),v=S(0),y=S(!1),$=S(0),f=S(0),g=S(C.Normal),b=S(0),E=S(0),w=S(0),L=[],Y=function(h){Q||(O(h.clientX,h.clientY,0),window.addEventListener("mousemove",D),window.addEventListener("mouseup",H))},T=function(h){if(!!Q){var m=lt(h);O(m.clientX,m.clientY,m.touchLength),window.addEventListener("touchmove",K),window.addEventListener("touchend",U)}},O=function(h,m,R){y.value=!0,$.value=h,f.value=m,w.value=R,L=Ti({width:e.value,height:t.value,scale:d.value,rotate:v.value,x:b.value,y:E.value}),i(h,m)},D=function(h){Q||!y.value||N(h.clientX,h.clientY,0)},K=function(h){if(!(!Q||!y.value)){var m=lt(h);N(m.clientX,m.clientY,m.touchLength)}},N=Le(function(h,m,R){if(g.value===C.Normal)if(d.value!==1||R)g.value=C.Scale;else{var W=Math.abs(h-$.value)>at,xt=Math.abs(m-f.value)>at;if(!W&&!xt)return;g.value=W?C.X:C.Y}r(g.value,h,m,L);var pe=h-$.value,Ue=m-f.value;if(g.value===C.Y&&(u.value=pe+b.value,c.value=Ue+E.value),g.value===C.Scale)if(R){var Lt=d.value+(R-w.value)/100/2*d.value,Vt=Math.max(Math.min(Lt,Math.max(it,o.value/e.value)),1);qe(Vt,h,m),w.value=R}else!(pe>0&&L.includes(V.Left))&&!(pe<0&&L.includes(V.Right))&&(u.value=pe+b.value),c.value=Ue+E.value},8,{trailing:!1}),H=function(h){Q||(Xe(h.clientX,h.clientY,h),window.removeEventListener("mousemove",D),window.removeEventListener("mouseup",H))},U=function(h){if(!!Q){var m=h.changedTouches[0];Xe(m.clientX,m.clientY,h),window.removeEventListener("touchmove",K),window.removeEventListener("touchend",U)}},re=function(h,m){if(g.value===C.Normal)if(d.value===1){var R=Math.max(2,o.value/e.value),W=rt({x:u.value,y:c.value,clientX:h,clientY:m,fromScale:d.value,toScale:R});u.value=W.x,c.value=W.y,d.value=W.scale}else u.value=0,c.value=0,d.value=1},Ct=Ei(s,re),Xe=function(h,m,R){$.value===h&&f.value===m&&Ct(h,m,R),l(g.value,h,m,L),g.value===C.Y&&(u.value=0,c.value=0),g.value===C.Scale&&fe({width:e.value,height:t.value,scale:d.value,rotate:v.value,x:u.value,y:c.value}),y.value=!1,g.value=C.Normal,$.value=0,f.value=0,b.value=u.value,E.value=c.value},Mt=function(h){var m=d.value-h.deltaY/100/2,R=Math.max(Math.min(m,Math.max(it,o.value/e.value)),1);qe(R,h.clientX,h.clientY)},qe=function(h,m,R){var W=rt({x:u.value,y:c.value,clientX:m,clientY:R,fromScale:d.value,toScale:h});fe({width:e.value,height:t.value,scale:W.scale,rotate:v.value,x:W.x,y:W.y})},fe=function(h){var m=_i(h);u.value=m.x,c.value=m.y,b.value=m.x,E.value=m.y,d.value=m.scale},Rt=function(){v.value=v.value-90,a(o.value,n.value,v.value),fe({width:e.value,height:t.value,scale:d.value,rotate:v.value,x:u.value,y:c.value})},Ot=function(){v.value=v.value+90,a(o.value,n.value,v.value),fe({width:e.value,height:t.value,scale:d.value,rotate:v.value,x:u.value,y:c.value})};return{x:u,y:c,scale:d,touched:y,handleMouseDown:Y,handleTouchStart:T,handleWheel:Mt,rotate:v,handleRotateLeft:Rt,handleRotateRight:Ot}}var Ve=P({name:"PhotoView",components:{Spinner:xe},props:{src:{type:String,required:!0},originRect:{type:Object,default:null},showAnimateType:{type:Number,default:null}},emits:["touchStart","touchMove","touchEnd","singleTap"],setup:function(e,t){var o=t.emit,n=_e(e).src,a=ja(n),i=a.width,r=a.height,l=a.loaded,s=a.naturalWidth,u=a.naturalHeight,c=a.setSuitableImageSize,d=function(N,H){o("touchStart",N,H)},v=function(N,H,U,re){o("touchMove",N,H,U,re)},y=function(N,H,U,re){o("touchEnd",N,H,U,re)},$=function(N,H,U){o("singleTap",N,H,U)},f=ki(i,r,s,u,c,d,v,y,$),g=f.x,b=f.y,E=f.scale,w=f.rotate,L=f.touched,Y=f.handleMouseDown,T=f.handleTouchStart,O=f.handleWheel,D=f.handleRotateLeft,K=f.handleRotateRight;return bi(s,u,w,c),{width:i,height:r,loaded:l,x:g,y:b,scale:E,touched:L,handleMouseDown:Y,handleTouchStart:T,handleWheel:O,rotate:w,handleRotateLeft:D,handleRotateRight:K}},data:function(){return{ShowAnimateEnum:X,isFlipHorizontal:!1,isFlipVertical:!1}},methods:{getAnimateOrigin:$i,toggleFlipHorizontal:function(){this.isFlipHorizontal=!this.isFlipHorizontal},toggleFlipVertical:function(){this.isFlipVertical=!this.isFlipVertical},getTransform:function(){var e="".concat(this.isFlipHorizontal?"-":"").concat(this.scale),t="".concat(this.isFlipVertical?"-":"").concat(this.scale),o={matrix:"".concat(e,", 0, 0, ").concat(t,", ").concat(this.x,", ").concat(this.y)};this.rotate&&(o.rotate="".concat(this.rotate,"deg"));var n="";return Object.keys(o).forEach(function(a){n+="".concat(a,"(").concat(o[a],")")}),n}}});const Pi=["src"];function Ii(e,t,o,n,a,i){const r=A("spinner");return e.loaded?(p(),_("div",{key:0,class:"PhotoView__PhotoWrap",style:G({width:`${e.width}px`,height:`${e.height}px`})},[k("div",{class:ce(["PhotoView__PhotoBox",{PhotoView__animateIn:e.showAnimateType===e.ShowAnimateEnum.In,PhotoView__animateOut:e.showAnimateType===e.ShowAnimateEnum.Out}]),style:G({transformOrigin:e.getAnimateOrigin(e.originRect),width:e.showAnimateType===e.ShowAnimateEnum.In||e.showAnimateType===e.ShowAnimateEnum.Out?"0":"100%"})},[k("img",{class:"PhotoView__Photo",src:e.src,style:G({width:`${e.width}px`,height:`${e.height}px`,transform:e.getTransform(),transition:e.touched?void 0:"transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1)"}),onMousedown:t[0]||(t[0]=Re((...l)=>e.handleMouseDown&&e.handleMouseDown(...l),["prevent"])),onTouchstart:t[1]||(t[1]=Re((...l)=>e.handleTouchStart&&e.handleTouchStart(...l),["prevent"])),onWheel:t[2]||(t[2]=(...l)=>e.handleWheel&&e.handleWheel(...l))},null,44,Pi)],6)],4)):(p(),F(r,{key:1}))}Ve.render=Ii;Ve.__file="src/PhotoView/index.vue";function Ci(e){var t=document.body.style,o=t.overflow;q(e,function(){e.value?t.overflow="hidden":t.overflow=o})}function Mi(){var e=S(window.innerWidth),t=Le(function(){e.value=window.innerWidth},8);return window.addEventListener("resize",t),Te(function(){window.removeEventListener("resize",t)}),{innerWidth:e}}var Ae=P({});const Ri={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 768 768"},Oi=k("path",{fill:"#FFF",d:"M607.5 205.5l-178.5 178.5 178.5 178.5-45 45-178.5-178.5-178.5 178.5-45-45 178.5-178.5-178.5-178.5 45-45 178.5 178.5 178.5-178.5z"},null,-1),xi=[Oi];function Li(e,t,o,n,a,i){return p(),_("svg",Ri,xi)}Ae.render=Li;Ae.__file="src/PhotoSlider/Close.vue";var Be=P({});const Vi={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 768 768"},Ai=k("path",{d:"M640.5 352.5v63h-390l178.5 180-45 45-256.5-256.5 256.5-256.5 45 45-178.5 180h390z"},null,-1),Bi=[Ai];function Fi(e,t,o,n,a,i){return p(),_("svg",Vi,Bi)}Be.render=Fi;Be.__file="src/PhotoSlider/ArrowLeft.vue";var Fe=P({});const zi={version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44",viewBox:"0 0 768 768"},Di=k("path",{d:"M384 127.5l256.5 256.5-256.5 256.5-45-45 178.5-180h-390v-63h390l-178.5-180z"},null,-1),Ni=[Di];function Hi(e,t,o,n,a,i){return p(),_("svg",zi,Ni)}Fe.render=Hi;Fe.__file="src/PhotoSlider/ArrowRight.vue";var ze=P({});const Wi={viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44"},ji=k("path",{fill:"#FFF",d:"M744.81 959.5c99.37-180.1 116.14-454.76-274.34-445.6v221.85L134.82 400.12 470.46 64.5v217.1c467.59-12.2 519.68 412.74 274.35 677.9z"},null,-1),Yi=[ji];function Xi(e,t,o,n,a,i){return p(),_("svg",Wi,Yi)}ze.render=Xi;ze.__file="src/PhotoSlider/RotateLeft.vue";var De=P({});const qi={viewBox:"0 0 1000 1000",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44"},Ui=k("path",{fill:"#FFF",d:"M555.668 258.9754V47.24496791175579l327.3385 327.3241L555.668 701.8941V485.52881146582615c-380.8294-8.9369-364.4728 258.9334-267.5596 434.5814C48.8389 661.5105 99.6385 247.0815 555.668 258.9754z"},null,-1),Gi=[Ui];function Ki(e,t,o,n,a,i){return p(),_("svg",qi,Gi)}De.render=Ki;De.__file="src/PhotoSlider/RotateRight.vue";var Ne=P({});const Zi={viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44"},Qi=k("path",{fill:"#FFF",d:"M978.432 492.832l-153.696-116.896c-17.504-13.312-31.968-6.208-32.096 15.776L792.032 480H231.968l-0.608-88.288c-0.16-22.016-14.592-29.088-32.096-15.776l-153.696 116.896c-17.504 13.312-17.12 34.592 0.864 47.264l154.144 108.608c17.984 12.672 32.576 5.056 32.416-16.96L232.384 544h559.2l-0.576 87.712c-0.16 22.016 14.432 29.632 32.416 16.96l154.144-108.608c17.984-12.672 18.4-33.92 0.864-47.232z"},null,-1),Ji=[Qi];function er(e,t,o,n,a,i){return p(),_("svg",Zi,Ji)}Ne.render=er;Ne.__file="src/PhotoSlider/FlipHorizontal.vue";var He=P({});const tr={viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"44",height:"44"},or=k("path",{fill:"#FFF",d:"M494.03 74.72l-109.59 144.09c-12.48 16.41-5.82 29.97 14.79000001 30.09L482 249.47 482 774.53l-82.77 0.54c-20.64 0.15-27.27 13.68-14.79 30.09l109.59 144.09c12.48 16.41 32.43 16.05 44.31000001-0.81l101.81999999-144.51c11.88-16.86 4.74-30.54-15.9-30.39L542.00000001 774.14l-1e-8-524.25 82.23 0.54c20.64 0.15 27.78-13.53 15.9-30.39l-101.82-144.51c-11.88-16.86-31.8-17.25-44.28-0.81z"},null,-1),nr=[or];function ar(e,t,o,n,a,i){return p(),_("svg",tr,nr)}He.render=ar;He.__file="src/PhotoSlider/FilpVertical.vue";var We=P({});const ir={viewBox:"0 0 1068 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2740",width:"44",height:"44"},rr=k("path",{d:"M252.622237 809.004596a252.614304 252.614304 0 0 1-31.486765-503.2587v-4.352863a301.406611 301.406611 0 0 1 594.880633-68.660847 288.877568 288.877568 0 0 1-36.146765 575.488683 31.529129 31.529129 0 0 1 0-63.047667 225.819311 225.819311 0 0 0 8.472726-451.479758l-26.244267-0.974363-3.812726-25.990085a238.358944 238.358944 0 0 0-474.176071 34.664037 243.040125 243.040125 0 0 0 1.874591 30.035812l4.501135 35.786673-37.163491-0.3495h-0.730773c-104.521657 0-189.577228 85.034389-189.577228 189.577228s85.034389 189.577228 189.577228 189.577228a31.529129 31.529129 0 0 1 0 63.047667z",fill:"#FFF"},null,-1),lr=k("path",{d:"M500.417679 442.421546m10.590906 0l46.599989 0q10.590907 0 10.590907 10.590906l0 528.878103q0 10.590907-10.590907 10.590907l-46.599989 0q-10.590907 0-10.590906-10.590907l0-528.878103q0-10.590907 10.590906-10.590906Z",fill:"#FFF"},null,-1),sr=k("path",{d:"M487.406543 980.472843m7.488902-7.488902l171.982631-171.982631q7.488902-7.488902 14.977804 0l32.951168 32.951168q7.488902 7.488902 0 14.977804l-171.982631 171.982631q-7.488902 7.488902-14.977804 0l-32.951168-32.951168q-7.488902-7.488902 0-14.977804Z",fill:"#FFF"},null,-1),ur=k("path",{d:"M344.966294 837.223674m7.488902-7.488902l32.951168-32.951168q7.488902-7.488902 14.977804 0l176.198883 176.198883q7.488902 7.488902 0 14.977804l-32.951168 32.951168q-7.488902 7.488902-14.977804 0l-176.198883-176.198883q-7.488902-7.488902 0-14.977804Z",fill:"#FFF"},null,-1),dr=[rr,lr,sr,ur];function cr(e,t,o,n,a,i){return p(),_("svg",ir,dr)}We.render=cr;We.__file="src/PhotoSlider/Download.vue";function hr(e,t){var o=S(e.value),n=S(X.None),a=S(null);q(e,function(){var r=t.value.originRef;if(r&&r.nodeType===1&&r.children.length>0){var l=r.getBoundingClientRect(),s=l.top,u=l.left,c=l.width,d=l.height;a.value={left:u,top:s,width:c,height:d}}else a.value=null;e.value?(n.value=X.In,o.value=!0):n.value=X.Out});var i=function(){n.value===X.Out&&(o.value=!1),n.value=X.None};return{photoVisible:o,showAnimateType:n,originRect:a,onShowAnimateEnd:i}}var Pe=P({name:"PhotoSlider",components:{PhotoView:Ve,Close:Ae,ArrowLeft:Be,ArrowRight:Fe,RotateLeft:ze,RotateRight:De,FlipHorizontal:Ne,FilpVertical:He,Download:We},props:{items:{type:Array,required:!0},index:{type:Number,required:!0},visible:{type:Boolean,required:!0},shouldTransition:{type:Boolean,default:!1},toggleOverlay:{type:Boolean,default:!0},defaultBackdropOpacity:{type:Number,default:1},loop:{type:Boolean,default:!1}},emits:["clickPhoto","clickMask","changeIndex","closeModal"],setup:function(e){var t=_e(e),o=t.items,n=t.index,a=t.visible,i=j(function(){return o.value[n.value]||{}});Ci(a);var r=hr(a,i),l=r.photoVisible,s=r.showAnimateType,u=r.originRect,c=r.onShowAnimateEnd,d=Mi().innerWidth;return{innerWidth:d,currentItem:i,photoVisible:l,showAnimateType:s,originRect:u,onShowAnimateEnd:c}},data:function(){return{horizontalOffset:Si,ShowAnimateEnum:X,isTouchDevice:Q,touched:!1,hasMove:!1,needTransition:!1,clientX:0,clientY:0,touchMoveX:0,backdropOpacity:this.defaultBackdropOpacity,overlayVisible:!0,virtualIndex:0,photoViewRefs:{}}},computed:{showItems:function(){var e=this.items.length;if(this.loop){var t=this.items.concat(this.items).concat(this.items);return t.slice(e+this.index-1,e+this.index+2)}return this.items.slice(Math.max(this.index-1,0),Math.min(this.index+2,e))}},created:function(){window.addEventListener("keydown",this.handleKeyDown)},beforeUnmount:function(){window.removeEventListener("keydown",this.handleKeyDown)},beforeUpdate:function(){this.photoViewRefs={}},methods:{handleDownload:function(){var e=this.items[this.index];if(e){var t=e.src.split("/"),o=t[t.length-1],n=new Image;n.setAttribute("crossOrigin","Anonymous"),n.onload=function(){var a=document.createElement("canvas"),i=a.getContext("2d");a.width=n.width,a.height=n.height,i==null||i.drawImage(n,0,0,n.width,n.height),a.toBlob(function(r){if(r){var l=URL.createObjectURL(r),s=document.createElement("a");s.download=e.downloadName||o,s.href=l,s.dispatchEvent(new MouseEvent("click")),URL.revokeObjectURL(l)}})},n.src=e.src+"?v="+Date.now()}},toggleFlipHorizontal:function(){var e;(e=this.photoViewRefs[this.currentItem.key])===null||e===void 0||e.toggleFlipHorizontal()},toggleFlipVertical:function(){var e;(e=this.photoViewRefs[this.currentItem.key])===null||e===void 0||e.toggleFlipVertical()},handleRotateLeft:function(){var e;(e=this.photoViewRefs[this.currentItem.key])===null||e===void 0||e.handleRotateLeft()},handleRotateRight:function(){var e;(e=this.photoViewRefs[this.currentItem.key])===null||e===void 0||e.handleRotateRight()},setPhotoViewRef:function(e,t){this.photoViewRefs[e]=t},handleKeyDown:function(e){if(this.visible)switch(e.code){case"ArrowLeft":this.handlePrevious();break;case"ArrowRight":this.handleNext();break;case"Escape":this.handleClickClose();break}},handleSingleTap:function(e,t,o){this.toggleOverlay&&(this.overlayVisible=!this.overlayVisible),this.$emit("clickPhoto",o)},handleTouchStart:function(e,t){this.touched=!0,this.needTransition=!1,this.clientX=e,this.clientY=t},handleTouchMove:function(e,t,o,n){e===C.Scale&&this.handleTouchScaleMove(t,n),e===C.X&&this.handleTouchHorizontalMove(t),e===C.Y&&this.handleTouchVerticalMove(t,o)},handleTouchScaleMove:function(e,t){var o=e-this.clientX;(o>0&&t.includes(V.Left)||o<0&&t.includes(V.Right))&&this.handleTouchHorizontalMove(e)},handleTouchHorizontalMove:function(e){var t=e-this.clientX;!this.loop&&(this.index===0&&t>0||this.index===this.items.length-1&&t<0)&&(t=t/2),this.hasMove=e!==this.clientX,this.touchMoveX=t},handleTouchVerticalMove:function(e,t){var o=Math.abs(t-this.clientY),n=Math.max(Math.min(this.defaultBackdropOpacity,this.defaultBackdropOpacity-o/100/4),0);this.hasMove=e!==this.clientX||t!==this.clientY,this.backdropOpacity=n},handleTouchEnd:function(e,t,o,n){e===C.Scale&&this.handleTouchScaleEnd(t,n),e===C.X&&this.handleTouchHorizontalEnd(t),e===C.Y&&this.handleTouchVerticalEnd(o),this.hasMove&&(this.needTransition=!0),this.touched=!1,this.hasMove=!1,this.clientX=0,this.clientY=0,this.touchMoveX=0},handleTouchScaleEnd:function(e,t){var o=e-this.clientX;o<-be&&t.includes(V.Right)&&this.handleNext(),o>be&&t.includes(V.Left)&&this.handlePrevious()},handleTouchHorizontalEnd:function(e){var t=e-this.clientX;t<-be&&this.handleNext(),t>be&&this.handlePrevious()},handleTouchVerticalEnd:function(e){var t=e-this.clientY;Math.abs(t)>window.innerHeight*.14?this.$emit("closeModal"):this.resetBackdropOpacity()},resetBackdropOpacity:function(){this.backdropOpacity=this.defaultBackdropOpacity},resetNeedTransition:function(){this.needTransition=!1},handlePrevious:function(){var e=this.items.length;!this.loop&&this.index===0||(this.$emit("changeIndex",(this.index+e-1)%e),this.virtualIndex-=1)},handleNext:function(){var e=this.items.length;!this.loop&&this.index===e-1||(this.$emit("changeIndex",(this.index+1)%e),this.virtualIndex+=1)},handleClickMask:function(e){this.$emit("clickMask",e)},handleClickClose:function(){this.$emit("closeModal")},getItemLeft:function(e){var t=this.virtualIndex+e;return(this.loop||this.index!==0)&&(t-=1),"".concat((this.innerWidth+this.horizontalOffset)*t,"px")},getItemTransition:function(){var e="transform 0.6s cubic-bezier(0.25, 0.8, 0.25, 1)";if(this.needTransition)return e;if(!this.hasMove)return this.shouldTransition?e:void 0},getItemTransform:function(){return"translate3d(".concat(-(this.innerWidth+this.horizontalOffset)*this.virtualIndex+this.touchMoveX,"px, 0px, 0px)")}}});const vr={class:"PhotoSlider__BannerWrap"},fr={class:"PhotoSlider__Counter"},pr={class:"PhotoSlider__BannerRight"},mr={key:1,class:"PhotoSlider__FooterWrap"};function gr(e,t,o,n,a,i){const r=A("download"),l=A("rotate-left"),s=A("rotate-right"),u=A("flip-horizontal"),c=A("filp-vertical"),d=A("close"),v=A("photo-view"),y=A("arrow-left"),$=A("arrow-right");return p(),F(ct,{to:"body"},[e.photoVisible?(p(),_("div",{key:0,class:ce(["PhotoSlider__Wrapper",{PhotoSlider__Clean:e.showAnimateType!==e.ShowAnimateEnum.None,PhotoSlider__Hide:!e.overlayVisible}])},[k("div",{class:ce(["PhotoSlider__Backdrop",{PhotoSlider__fadeIn:e.showAnimateType===e.ShowAnimateEnum.In,PhotoSlider__fadeOut:e.showAnimateType===e.ShowAnimateEnum.Out}]),style:G({background:`rgba(0, 0, 0, ${e.backdropOpacity})`}),onAnimationend:t[0]||(t[0]=f=>(e.onShowAnimateEnd(),e.resetBackdropOpacity()))},null,38),k("div",vr,[k("div",fr,oe(e.index+1)+" / "+oe(e.items.length),1),k("div",pr,[M(r,{class:"PhotoSlider__BannerIcon",onClick:e.handleDownload},null,8,["onClick"]),M(l,{class:"PhotoSlider__BannerIcon",onClick:e.handleRotateLeft},null,8,["onClick"]),M(s,{class:"PhotoSlider__BannerIcon",onClick:e.handleRotateRight},null,8,["onClick"]),M(u,{class:"PhotoSlider__BannerIcon",onClick:e.toggleFlipHorizontal},null,8,["onClick"]),M(c,{class:"PhotoSlider__BannerIcon",onClick:e.toggleFlipVertical},null,8,["onClick"]),M(d,{class:"PhotoSlider__BannerIcon",onClick:e.handleClickClose},null,8,["onClick"])])]),(p(!0),_(ne,null,Yt(e.showItems,(f,g)=>(p(),_("div",{key:f.key,class:"PhotoSlider__PhotoBox",style:G({left:e.getItemLeft(g),transition:e.getItemTransition(),transform:e.getItemTransform()}),onTransitionend:t[2]||(t[2]=(...b)=>e.resetNeedTransition&&e.resetNeedTransition(...b)),onClick:t[3]||(t[3]=(...b)=>e.handleClickMask&&e.handleClickMask(...b))},[M(v,{ref:b=>e.setPhotoViewRef(f.key,b),"origin-rect":e.originRect,"show-animate-type":e.showAnimateType,src:f.src,onClick:t[1]||(t[1]=Re(()=>{},["stop"])),onTouchStart:e.handleTouchStart,onTouchMove:e.handleTouchMove,onTouchEnd:e.handleTouchEnd,onSingleTap:e.handleSingleTap},null,8,["origin-rect","show-animate-type","src","onTouchStart","onTouchMove","onTouchEnd","onSingleTap"])],36))),128)),e.isTouchDevice?x("v-if",!0):(p(),_(ne,{key:0},[e.loop||e.index>0?(p(),_("div",{key:0,class:"PhotoSlider__ArrowLeft",onClick:t[4]||(t[4]=(...f)=>e.handlePrevious&&e.handlePrevious(...f))},[M(y)])):x("v-if",!0),e.loop||e.index<e.items.length-1?(p(),_("div",{key:1,class:"PhotoSlider__ArrowRight",onClick:t[5]||(t[5]=(...f)=>e.handleNext&&e.handleNext(...f))},[M($)])):x("v-if",!0)],64)),e.currentItem.intro?(p(),_("div",mr,oe(e.currentItem.intro),1)):x("v-if",!0)],2)):x("v-if",!0)])}Pe.render=gr;Pe.__file="src/PhotoSlider/index.vue";var je=P({name:"PhotoProvider",components:{PhotoSlider:Pe},props:{photoClosable:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},shouldTransition:{type:Boolean,default:!1},defaultBackdropOpacity:{type:Number,default:1},loop:{type:Boolean,default:!1}},emits:["indexChange","visibleChange"],setup:function(e,t){var o=t.emit,n=function(){o("indexChange",{index:r,items:u,visible:y})},a=function(){o("visibleChange",{index:r,items:u,visible:y})},i=Fa(n),r=i.index,l=i.updateIndex,s=Aa(r),u=s.items,c=s.updateItem,d=s.removeItem,v=Ba(u,r,a),y=v.visible,$=v.handleHide,f=v.handleShow;return ue(bt,c),ue($t,d),ue(St,f),{items:u,updateItem:c,removeItem:d,visible:y,handleHide:$,handleShow:f,index:r,updateIndex:l}},methods:{handleClickPhoto:function(){this.photoClosable&&this.handleHide()},handleClickMask:function(){this.maskClosable&&this.handleHide()}}});function wr(e,t,o,n,a,i){const r=A("photo-slider");return p(),_(ne,null,[x(" @slot \u9ED8\u8BA4\u63D2\u69FD "),z(e.$slots,"default"),M(r,{visible:e.visible,index:e.index,"should-transition":e.shouldTransition,"toggle-overlay":!e.photoClosable,"default-backdrop-opacity":e.defaultBackdropOpacity,items:e.items,loop:e.loop,onClickPhoto:e.handleClickPhoto,onClickMask:e.handleClickMask,onChangeIndex:e.updateIndex,onCloseModal:e.handleHide},null,8,["visible","index","should-transition","toggle-overlay","default-backdrop-opacity","items","loop","onClickPhoto","onClickMask","onChangeIndex","onCloseModal"])],64)}je.render=wr;je.__file="src/PhotoProvider/index.vue";function yr(e,t){for(var o=-1,n=e==null?0:e.length,a=Array(n);++o<n;)a[o]=t(e[o],o,e);return a}var br=Array.isArray,$r=br,Sr=1/0,st=ae?ae.prototype:void 0,ut=st?st.toString:void 0;function It(e){if(typeof e=="string")return e;if($r(e))return yr(e,It)+"";if(_t(e))return ut?ut.call(e):"";var t=e+"";return t=="0"&&1/e==-Sr?"-0":t}function Er(e){return e==null?"":It(e)}var Tr=0;function _r(e){var t=++Tr;return Er(e)+t}var Ye=P({name:"PhotoConsumer",props:{src:{type:String,required:!0},intro:{type:String,default:null},downloadName:{type:String,default:null}},setup:function(e){var t=J(bt),o=J($t),n=J(St),a=S(null),i=_r(),r=_e(e),l=r.src,s=r.intro,u=r.downloadName,c=function(){n==null||n(i)},d=function(){return{key:i,src:l.value,originRef:a.value,intro:s.value,downloadName:u.value}};return q([l,s,u],function(){t==null||t(d())}),Oe(function(){t==null||t(d())}),Xt(function(){o==null||o(i)}),{root:a,handleClick:c}}});function kr(e,t,o,n,a,i){return e.$slots.default()?(p(),_("span",{key:0,ref:"root",style:{display:"inline-block"},class:"PhotoConsumer",onClick:t[0]||(t[0]=(...r)=>e.handleClick&&e.handleClick(...r))},[x(" @slot \u9ED8\u8BA4\u63D2\u69FD "),z(e.$slots,"default")],512)):x("v-if",!0)}Ye.render=kr;Ye.__file="src/PhotoConsumer/index.vue";var Pr=[je,Ye,Pe],Ir=function(e){Pr.forEach(function(t){e.component(t.name,t)})},Cr={install:Ir};var Mr=Object.defineProperty,Rr=Object.getOwnPropertyDescriptor,ve=(e,t,o,n)=>{for(var a=n>1?void 0:n?Rr(t,o):t,i=e.length-1,r;i>=0;i--)(r=e[i])&&(a=(n?r(t,o,a):r(a))||a);return n&&a&&Mr(t,o,a),a};let ee=class extends ie.Vue{constructor(){super(...arguments);le(this,"title");le(this,"content");le(this,"confirmButtonText");le(this,"color")}show(){this.$refs.dialogRef.show()}hide(){this.$refs.dialogRef.hide()}onOKClick(){this.$emit("ok"),this.hide()}onCancelClick(){this.hide()}getJsx(t){this.$nextTick(()=>{document.querySelector(".q-dialog-confirm-plugin .content").innerHTML=t})}};ve([ie.Prop({default:""})],ee.prototype,"title",2);ve([ie.Prop({default:""})],ee.prototype,"content",2);ve([ie.Prop({default:""})],ee.prototype,"confirmButtonText",2);ve([ie.Prop({default:"primary"})],ee.prototype,"color",2);ee=ve([ie.Component({name:"dialogConfirmComponent",emits:["ok","hide"]})],ee);const Or=ee,xr={class:"title f-bold"},Lr={class:"close"},Vr={class:"content"},Ar={class:"action"};function Br(e,t,o,n,a,i){return p(),F(Kt,{ref:"dialogRef","transition-show":"jump-up","transition-hide":"jump-down"},{default:B(()=>[M(Ut,{class:"q-dialog-confirm-plugin"},{default:B(()=>[k("div",xr,[dt(oe(e.title)+" ",1),k("div",Lr,[M(Gt,{name:"app:navigation-close",class:"icon",onClick:e.onCancelClick},null,8,["onClick"])])]),k("div",Vr,oe(e.getJsx(e.content)),1),k("div",Ar,[M(Ke,{color:e.color,label:e.confirmButtonText,onClick:e.onOKClick,"no-caps":"",class:"m-r-12"},null,8,["color","label","onClick"]),M(Ke,{color:e.color,outline:"","no-caps":"",label:e.$t("action.cancel"),onClick:e.onCancelClick},null,8,["color","label","onClick"])])]),_:1})]),_:1},512)}var Fr=qt(Or,[["render",Br],["__scopeId","data-v-19c791e0"]]);class zr{constructor(){}async show({title:t,color:o,content:n,confirmButtonText:a}){return new Promise(i=>{Zt.create({component:Fr,componentProps:{title:t,color:o,content:n,confirmButtonText:a}}).onOk(()=>{i(!0)})})}}var Dr=new zr,qr=Qt(({app:e})=>{var t;Object.keys(Qe).forEach(o=>{e.directive(o,Qe[o])}),e.use(Cr),e.use(La),e.config.globalProperties.$globalMessage=to,e.config.globalProperties.$globalConfirm=Dr,e.config.globalProperties.defaultFill=Ht,e.config.globalProperties.parseTime=o=>{if(!o||!/^\d+$/g.test(o.toString())||String(o).length<10)return"--";let n="";return String(o).length===10&&(n=o+="000"),Jt.formatDate(n,"YYYY-MM-DDTHH:mm:ss.SSSZ")},(t=document.querySelector("body"))==null||t.classList.add(eo.is.platform)});export{qr as default};
