(globalThis["webpackChunkquasar_vue3_admin_template"]=globalThis["webpackChunkquasar_vue3_admin_template"]||[]).push([[535],{23210:(e,s,o)=>{"use strict";o.r(s),o.d(s,{default:()=>$e});var a=o(59835),r=o(61957),t=o(86970),l=o(86980),n=o.n(l);const i=e=>((0,a.dD)("data-v-522d686f"),e=e(),(0,a.Cn)(),e),d={class:"full-width full-height overflow-hidden absolute left-0 top-0 row"},c={class:"row items-center justify-center full-width"},p={key:0,class:"col-md-6 col-lg-6 col-xl-6 col-sm-12 col-xs-12 q-m-auto row",style:{"z-index":"1000"}},u={class:"col-md-8 col-lg-8 col-xl-6 col-sm-8 col-xs-8 q-mx-auto"},w={class:"p-24"},m=i((()=>(0,a._)("div",{class:"f-bold bold fs-24 q-pb-md"},"Change password",-1))),g=i((()=>(0,a._)("div",{class:"p-b-24 fs-16"},"Please enter the following information to change your password",-1))),h={class:"field"},P=i((()=>(0,a._)("div",{class:"row q-py-md text-weight-medium"},[(0,a._)("label",{class:"w-p-30"},"* Username")],-1))),f={class:"field"},y=i((()=>(0,a._)("div",{class:"row q-py-md text-weight-medium"},[(0,a._)("label",{class:"w-p-30"},"* Old password")],-1))),C={class:"field"},v={class:"row q-py-md text-weight-medium"},M=i((()=>(0,a._)("label",{class:"q-mr-sm"},"* New password",-1))),I={class:"field"},x=i((()=>(0,a._)("div",{class:"row q-py-md text-weight-medium"},[(0,a._)("label",{class:"w-p-30"},"* Confirm Password")],-1))),T={class:"text-center"},_={key:1,class:"col-md-6 col-lg-6 col-xl-6 col-sm-12 col-xs-12 q-m-auto row",style:{"z-index":"1000"}},F={class:"col-md-8 col-lg-8 col-xl-6 col-sm-8 col-xs-8 q-mx-auto"},N={class:"p-24"},L=i((()=>(0,a._)("div",{class:"f-bold bold fs-24 q-pb-md"},"Forgot password",-1))),b=i((()=>(0,a._)("div",{class:"p-b-24 fs-16"},"Please enter your username and email address to reset your password.",-1))),j={class:"field"},z=i((()=>(0,a._)("div",{class:"row q-py-md text-weight-medium"},[(0,a._)("label",{class:"w-p-30"},"* Username")],-1))),k={class:"field"},D=i((()=>(0,a._)("div",{class:"row q-py-md text-weight-medium"},[(0,a._)("label",{class:"w-p-30"},"* Email")],-1))),S={class:"text-center"},V={key:2,class:"col-md-6 col-lg-6 col-xl-6 col-sm-12 col-xs-12 q-m-auto row",style:{"z-index":"1000"}},$={class:"col-md-8 col-lg-8 col-xl-6 col-sm-8 col-xs-8 q-mx-auto"},q={class:"p-24"},W=i((()=>(0,a._)("div",{class:"f-bold bold fs-24 q-pb-md"},"Reset Password",-1))),R=i((()=>(0,a._)("div",{class:"p-b-24 fs-16"},"Please reset your password.",-1))),O={class:"field"},E={class:"row q-py-md text-weight-medium"},Q=i((()=>(0,a._)("label",{class:"q-mr-sm"},"* Password",-1))),A={class:"field"},U=i((()=>(0,a._)("div",{class:"row q-pb-md q-pt-xs f-bold"},[(0,a._)("label",null,"* Confirm password")],-1))),Y={class:"text-center"},Z={key:3,class:"col-md-6 col-lg-6 col-xl-6 col-sm-12 col-xs-12 q-m-auto row",style:{"z-index":"1000"}},G={class:"col-md-8 col-lg-8 col-xl-6 col-sm-8 col-xs-8 q-mx-auto"},B={class:"p-24"},H=i((()=>(0,a._)("div",{class:"f-bold bold fs-24 q-pb-md"},"Sign In",-1))),K=i((()=>(0,a._)("div",{class:"fs-16 lh-24"},"Please enter your username and password.",-1))),J=i((()=>(0,a._)("p",{class:"text-grey p-b-24"},"(Login by typing in any username, code and password)",-1))),X={class:"field"},ee=i((()=>(0,a._)("div",{class:"row q-pb-md text-weight-medium"},[(0,a._)("label",null,"Username")],-1))),se={class:"field"},oe=i((()=>(0,a._)("div",{class:"row q-py-md text-weight-medium"},[(0,a._)("label",null,"Code")],-1))),ae={class:"row q-col-gutter-md"},re={class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},te={class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},le={class:"text-right col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},ne={class:"field"},ie={class:"row q-py-md text-weight-medium"},de=i((()=>(0,a._)("label",{class:"w-p-30"},"Password",-1))),ce={class:"text-right w-p-70"},pe={class:"text-center"},ue={class:"cover row column"},we={class:"img"},me={class:"intro"},ge={class:"f-bold lh-48",style:{"font-size":"2.5em"}};function he(e,s,o,l,i,he){const Pe=(0,a.up)("q-input"),fe=(0,a.up)("q-icon"),ye=(0,a.up)("el-popover"),Ce=(0,a.up)("q-btn"),ve=(0,a.up)("q-form"),Me=(0,a.up)("q-select"),Ie=(0,a.up)("q-img");return(0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",c,["changePassword"===e.pageType?((0,a.wg)(),(0,a.iD)("div",p,[(0,a._)("div",u,[(0,a._)("div",w,[m,g,(0,a.Wm)(ve,{ref:"changePasswordForm"},{default:(0,a.w5)((()=>[(0,a._)("div",h,[P,(0,a.Wm)(Pe,{type:"text",modelValue:e.changePasswordForm.username,"onUpdate:modelValue":s[0]||(s[0]=s=>e.changePasswordForm.username=s),autocapitalize:"off",autocomplete:"new-password",outlined:"",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.changePasswordRules.username},null,8,["modelValue","rules"])]),(0,a._)("div",f,[y,(0,a.Wm)(Pe,{type:"text",modelValue:e.changePasswordForm.oldPassword,"onUpdate:modelValue":[s[1]||(s[1]=s=>e.changePasswordForm.oldPassword=s),s[4]||(s[4]=s=>e.resetPasswordForm.rePassword=e.resetPasswordForm.rePassword.replace(/[\u4e00-\u9fa5]/gi,""))],autocapitalize:"off",autocomplete:"new-password",outlined:"",class:"input-password",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.changePasswordRules.oldPassword,onPasteCapture:s[2]||(s[2]=(0,r.iM)((()=>0),["prevent"])),onCopyCapture:s[3]||(s[3]=(0,r.iM)((()=>0),["prevent"]))},null,8,["modelValue","rules"])]),(0,a._)("div",C,[(0,a._)("div",v,[M,(0,a.Wm)(ye,{placement:"top",title:"Password rules",width:320,"popper-style":"z-index:9999",trigger:"hover"},{reference:(0,a.w5)((()=>[(0,a.Wm)(fe,{name:"o_info",class:"text-grey cursor-pointer"})])),default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.passwordRules,((e,s)=>((0,a.wg)(),(0,a.iD)("p",{key:s},(0,t.zw)(s+1)+". "+(0,t.zw)(e),1)))),128))])),_:1})]),(0,a.Wm)(Pe,{type:"text",ref:"changePassword",modelValue:e.changePasswordForm.password,"onUpdate:modelValue":[s[5]||(s[5]=s=>e.changePasswordForm.password=s),s[8]||(s[8]=s=>e.resetPasswordForm.rePassword=e.resetPasswordForm.rePassword.replace(/[\u4e00-\u9fa5]/gi,""))],autocapitalize:"off",class:"input-password",autocomplete:"new-password",outlined:"",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.changePasswordRules.password,onPasteCapture:s[6]||(s[6]=(0,r.iM)((()=>0),["prevent"])),onCopyCapture:s[7]||(s[7]=(0,r.iM)((()=>0),["prevent"]))},null,8,["modelValue","rules"])]),(0,a._)("div",I,[x,(0,a.Wm)(Pe,{type:"text",ref:"changeRePassword",modelValue:e.changePasswordForm.rePassword,"onUpdate:modelValue":[s[9]||(s[9]=s=>e.changePasswordForm.rePassword=s),s[12]||(s[12]=s=>e.resetPasswordForm.rePassword=e.resetPasswordForm.rePassword.replace(/[\u4e00-\u9fa5]/gi,""))],autocapitalize:"off",autocomplete:"new-password",outlined:"",class:"input-password",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.changePasswordRules.rePassword,onPasteCapture:s[10]||(s[10]=(0,r.iM)((()=>0),["prevent"])),onCopyCapture:s[11]||(s[11]=(0,r.iM)((()=>0),["prevent"]))},null,8,["modelValue","rules"])]),(0,a.Wm)(Ce,{class:"full-width q-my-lg",onClick:(0,r.iM)(e.handlerChangePassword,["prevent"]),label:"Confirm",color:"primary"},null,8,["onClick"])])),_:1},512),(0,a._)("div",T,[(0,a.Uk)(" Already have an account? "),(0,a._)("span",{class:"detail-link-type",onClick:s[13]||(s[13]=(...s)=>e.resetPasswordToSignIn&&e.resetPasswordToSignIn(...s))}," Sign In ")])])])])):(0,a.kq)("",!0),"forgotPassword"===e.pageType?((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("div",F,[(0,a._)("div",N,[L,b,(0,a.Wm)(ve,{ref:"forgotPasswordForm"},{default:(0,a.w5)((()=>[(0,a._)("div",j,[z,(0,a.Wm)(Pe,{type:"text",modelValue:e.forgotPasswordForm.username,"onUpdate:modelValue":s[14]||(s[14]=s=>e.forgotPasswordForm.username=s),autocapitalize:"off",autocomplete:"new-password",outlined:"",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.forgotPasswordRules.username},null,8,["modelValue","rules"])]),(0,a._)("div",k,[D,(0,a.Wm)(Pe,{type:"text",modelValue:e.forgotPasswordForm.email,"onUpdate:modelValue":s[15]||(s[15]=s=>e.forgotPasswordForm.email=s),autocapitalize:"off",autocomplete:"new-password",outlined:"",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.forgotPasswordRules.email},null,8,["modelValue","rules"])]),(0,a.Wm)(Ce,{class:"full-width q-my-lg",onClick:(0,r.iM)(e.handlerForgetPassword,["prevent"]),label:"Confirm",color:"primary"},null,8,["onClick"])])),_:1},512),(0,a._)("div",S,[(0,a.Uk)(" Already have an account? "),(0,a._)("span",{class:"detail-link-type",onClick:s[16]||(s[16]=(...s)=>e.resetPasswordToSignIn&&e.resetPasswordToSignIn(...s))}," Sign In ")])])])])):(0,a.kq)("",!0),"resetPassword"===e.pageType?((0,a.wg)(),(0,a.iD)("div",V,[(0,a._)("div",$,[(0,a._)("div",q,[W,R,(0,a.Wm)(ve,{ref:"resetPasswordForm"},{default:(0,a.w5)((()=>[(0,a._)("div",O,[(0,a._)("div",E,[Q,(0,a.Wm)(ye,{placement:"top",title:"Password rules",width:320,trigger:"hover"},{reference:(0,a.w5)((()=>[(0,a.Wm)(fe,{name:"o_info",class:"text-grey-3 cursor-pointer"})])),default:(0,a.w5)((()=>[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(e.passwordRules,((e,s)=>((0,a.wg)(),(0,a.iD)("p",{key:s},(0,t.zw)(s+1)+". "+(0,t.zw)(e),1)))),128))])),_:1})]),(0,a.Wm)(Pe,{type:"text",class:"input-password",modelValue:e.resetPasswordForm.password,"onUpdate:modelValue":[s[17]||(s[17]=s=>e.resetPasswordForm.password=s),s[20]||(s[20]=s=>e.resetPasswordForm.password=e.resetPasswordForm.password.replace(/[\u4e00-\u9fa5]/gi,""))],autocapitalize:"off",autocomplete:"new-password",placeholder:"Please enter",outlined:"",dense:"",ref:"resetPassword","clear-icon":"app:clear","no-error-icon":"",onPasteCapture:s[18]||(s[18]=(0,r.iM)((()=>0),["prevent"])),onCopyCapture:s[19]||(s[19]=(0,r.iM)((()=>0),["prevent"])),rules:e.resetPasswordRules.password},null,8,["modelValue","rules"])]),(0,a._)("div",A,[U,(0,a.Wm)(Pe,{type:"text",class:"input-password",modelValue:e.resetPasswordForm.rePassword,"onUpdate:modelValue":[s[21]||(s[21]=s=>e.resetPasswordForm.rePassword=s),s[24]||(s[24]=s=>e.resetPasswordForm.rePassword=e.resetPasswordForm.rePassword.replace(/[\u4e00-\u9fa5]/gi,""))],placeholder:"Please enter",autocapitalize:"off",autocomplete:"new-password",outlined:"",dense:"",ref:"resetRePassword","clear-icon":"app:clear","no-error-icon":"",onPasteCapture:s[22]||(s[22]=(0,r.iM)((()=>0),["prevent"])),onCopyCapture:s[23]||(s[23]=(0,r.iM)((()=>0),["prevent"])),rules:e.resetPasswordRules.rePassword},null,8,["modelValue","rules"])]),(0,a.Wm)(Ce,{class:"full-width q-my-lg",onClick:(0,r.iM)(e.handlerResetPassword,["prevent"]),label:"Confirm",color:"primary"},null,8,["onClick"])])),_:1},512),(0,a._)("div",Y,[(0,a.Uk)(" Already have an account? "),(0,a._)("span",{class:"detail-link-type",onClick:s[25]||(s[25]=(...s)=>e.resetPasswordToSignIn&&e.resetPasswordToSignIn(...s))}," Sign In ")])])])])):(0,a.kq)("",!0),"signIn"===e.pageType?((0,a.wg)(),(0,a.iD)("div",Z,[(0,a._)("div",G,[(0,a._)("div",B,[H,K,J,(0,a.Wm)(ve,null,{default:(0,a.w5)((()=>[(0,a._)("div",X,[ee,(0,a.Wm)(Pe,{type:"text",autocapitalize:"off",modelValue:e.signInParams.username,"onUpdate:modelValue":s[26]||(s[26]=s=>e.signInParams.username=s),autocomplete:"new-password",onKeyup:(0,r.D2)(e.handlerSignIn,["enter"]),placeholder:"Please enter",outlined:"",dense:"","no-error-icon":"","clear-icon":"app:clear"},null,8,["modelValue","onKeyup"])]),(0,a._)("div",se,[oe,(0,a._)("div",ae,[(0,a._)("div",re,[(0,a.Wm)(Me,{modelValue:e.signInParams.method,"onUpdate:modelValue":s[27]||(s[27]=s=>e.signInParams.method=s),options:e.signInParams.methodSelectOption,placeholder:"Please enter",spellcheck:!1,autocomplete:"new-password",outlined:"",onKeyup:(0,r.D2)(e.handlerSignIn,["enter"]),"no-error-icon":"","map-options":"","options-dense":"","emit-value":"",dense:"","dropdown-icon":"app:topbar-arrow-bottom","clear-icon":"app:clear"},null,8,["modelValue","options","onKeyup"])]),(0,a._)("div",te,[(0,a.Wm)(Pe,{type:"text",modelValue:e.signInParams.code,"onUpdate:modelValue":s[28]||(s[28]=s=>e.signInParams.code=s),autocapitalize:"off",placeholder:"Please enter",autocomplete:"new-password",outlined:"",onKeyup:(0,r.D2)(e.handlerSignIn,["enter"]),"no-error-icon":"",dense:"","clear-icon":"app:clear"},null,8,["modelValue","onKeyup"])]),(0,a._)("div",le,[e.signInParams.getCodeConfig.toGetVerifyCode?((0,a.wg)(),(0,a.j4)(Ce,{key:1,color:"primary",class:"full-height full-width",disabled:"",label:`${e.signInParams.getCodeConfig.verifyCodeCount} 秒`},null,8,["label"])):((0,a.wg)(),(0,a.j4)(Ce,{key:0,color:"primary",class:"full-height full-width",label:"Send",onClick:e.handleClickSendCode},null,8,["onClick"]))])])]),(0,a._)("div",ne,[(0,a._)("div",ie,[de,(0,a._)("div",ce,[(0,a._)("span",{class:"detail-link-type",onClick:s[29]||(s[29]=s=>e.pageType="forgotPassword")},"Forgot password?")])]),(0,a.Wm)(Pe,{type:"text",class:"input-password",modelValue:e.signInParams.password,"onUpdate:modelValue":[s[30]||(s[30]=s=>e.signInParams.password=s),s[33]||(s[33]=s=>e.signInParams.password=e.signInParams.password.replace(/[\u4e00-\u9fa5]/gi,""))],autocapitalize:"off",placeholder:"Please enter",autocomplete:"new-password",outlined:"",onPasteCapture:s[31]||(s[31]=(0,r.iM)((()=>0),["prevent"])),onCopyCapture:s[32]||(s[32]=(0,r.iM)((()=>0),["prevent"])),onKeyup:(0,r.D2)(e.handlerSignIn,["enter"]),"no-error-icon":"",dense:"","clear-icon":"app:clear"},null,8,["modelValue","onKeyup"])]),(0,a.Wm)(Ce,{class:"full-width q-my-lg",onClick:(0,r.iM)(e.handlerSignIn,["prevent"]),label:"Sign In",color:"primary"},null,8,["onClick"]),(0,a._)("div",pe,[(0,a._)("span",{class:"detail-link-type",onClick:s[34]||(s[34]=s=>e.pageType="changePassword")},"Change password? ")])])),_:1})])])])):(0,a.kq)("",!0),(0,a._)("div",{class:(0,t.C_)(["col-md-6 col-lg-6 col-xl-6 full-height relative-position q-pa-md",e.$q.screen.xs||e.$q.screen.sm?"hidden":""])},[(0,a._)("div",ue,[(0,a._)("div",we,[(0,a.Wm)(Ie,{src:n(),alt:"chat-img",fit:"fit"})]),(0,a._)("div",me,[(0,a._)("h4",ge,"“"+(0,t.zw)(e.$t("login.illustrationDescription"))+"”",1)])])],2)])])}var Pe=o(59857),fe=o(24642),ye=o(18933),Ce=o(57449),ve=o(62408),Me=o(6128),Ie=function(e,s,o,a){var r,t=arguments.length,l=t<3?s:null===a?a=Object.getOwnPropertyDescriptor(s,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,s,o,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(l=(t<3?r(l):t>3?r(s,o,l):r(s,o))||l);return t>3&&l&&Object.defineProperty(s,o,l),l},xe=function(e,s,o,a){function r(e){return e instanceof o?e:new o((function(s){s(e)}))}return new(o||(o=Promise))((function(o,t){function l(e){try{i(a.next(e))}catch(s){t(s)}}function n(e){try{i(a["throw"](e))}catch(s){t(s)}}function i(e){e.done?o(e.value):r(e.value).then(l,n)}i((a=a.apply(e,s||[])).next())}))};let Te=class extends Pe.Vue{constructor(){super(...arguments),this.globals=(0,a.FN)().appContext.config.globalProperties,this.passwordRules=Me.dQ,this.pageType="signIn",this.otherQuery={},this.changePasswordForm={username:"",oldPassword:"",password:"",rePassword:""},this.forgotPasswordForm={email:"",username:""},this.resetPasswordForm={password:"",rePassword:""},this.signInParams={username:"",password:"",code:"",method:"ALI_SMS_VERIFY",methodSelectOption:[{label:"SMS",value:"ALI_SMS_VERIFY"},{label:"EMAIL",value:"EMAIL"}],getCodeConfig:{toGetVerifyCode:!1,getVerifyCodeLoading:!1,verifyCodeCount:10}},this.changePasswordRules={username:[e=>e&&String(e).length>0||"必填"],oldPassword:[e=>e&&String(e).length>0||"必填"],password:[e=>e&&String(e).length>0||"必填",e=>(0,ye.eW)(e)||"无效密码",e=>this.changePasswordForm.rePassword===e||"两次密码不一致"],rePassword:[e=>e&&String(e).length>0||"必填",e=>(0,ye.eW)(e)||"无效密码",e=>this.changePasswordForm.password===e||"两次密码不一致"]},this.forgotPasswordRules={username:[e=>e&&String(e).length>0||"必填"],email:[e=>e&&String(e).length>0||"必填",e=>(0,ye.vV)(e)||"无效邮箱"]},this.resetPasswordRules={password:[e=>e&&String(e).length>0||"必填",e=>(0,ye.eW)(e)||"无效密码",e=>this.resetPasswordForm.rePassword===e||"两次密码不一致"],rePassword:[e=>e&&String(e).length>0||"必填",e=>(0,ye.eW)(e)||"无效密码",e=>this.resetPasswordForm.password===e||"两次密码不一致"]}}onRouteChange(e){const s=e.query;s&&(this.redirect=s.redirect,this.otherQuery=this.getOtherQuery(s))}onPageTypeChange(e){this.changePasswordForm.username="",this.changePasswordForm.oldPassword="",this.changePasswordForm.password="",this.changePasswordForm.rePassword="",this.forgotPasswordForm.username="",this.forgotPasswordForm.email="",this.resetPasswordForm.password="",this.resetPasswordForm.rePassword="",this.$nextTick((()=>{this.$refs.changePasswordForm&&this.$refs.changePasswordForm.resetValidation(),this.$refs.forgotPasswordForm&&this.$refs.forgotPasswordForm.resetValidation(),this.$refs.resetPasswordForm&&this.$refs.resetPasswordForm.resetValidation()}))}onResetPasswordChange(){this.$refs["resetRePassword"].validate()}onResetRePasswordChange(){this.$refs["resetPassword"].validate()}onChangePasswordChange(){this.$refs["changeRePassword"].validate()}onChangeRePasswordChange(){this.$refs["changePassword"].validate()}get token(){return this.$route.query.token}created(){}mounted(){return xe(this,void 0,void 0,(function*(){if(this.token){this.pageType="resetPassword";try{["123"].includes("code")&&this.$q.dialog({title:"提示",message:"链接过期，请重新申请链接",persistent:!0,cancel:!1}).onOk((()=>{if((0,Ce.LP)()){const e=ve.r.routes;this.$router.push(`${e[1].path}${e[1]&&e[1].children&&e[1].children[0].path?`/${e[1].children[0].path}`:""}`)}else this.pageType="signIn",this.$router.push("/login2")}))}catch(e){this.$q.dialog({title:"提示",message:"链接过期，请重新申请链接",persistent:!0,cancel:!1}).onOk((()=>{this.pageType="signIn",this.$router.push("/login2")})),console.log(e)}}}))}getOtherQuery(e){return Object.keys(e).reduce(((s,o)=>("redirect"!==o&&(s[o]=e[o]),s)),{})}resetPasswordToSignIn(){return xe(this,void 0,void 0,(function*(){if((0,Ce.LP)()){const e=yield this.$globalConfirm.show({title:"再次确认",color:"primary",content:"您已经登录，是否要注销登录并重新登录？",confirmButtonText:"Confirm"});if(e)fe.z.ResetToken(),this.pageType="signIn",this.$router.push("/login2");else{const e=ve.r.routes;this.$router.push(`${e[1].path}${e[1]&&e[1].children&&e[1].children[0].path?`/${e[1].children[0].path}`:""}`)}}this.pageType="signIn",this.$router.push("/login2")}))}handlerSignIn(){return xe(this,void 0,void 0,(function*(){this.signInParams.username&&this.signInParams.password?this.signInParams.code?(this.$q.loading.show(),yield fe.z.Login({username:this.signInParams.username,password:this.signInParams.password,code:this.signInParams.code}),this.$q.loading.hide(),this.$globalMessage.show({type:"success",content:"登录成功"}),location.reload()):this.$globalMessage.show({type:"error",content:"验证码不能为空"}):this.$globalMessage.show({type:"error",content:"用户名或密码不能为空"})}))}handleClickSendCode(){return xe(this,void 0,void 0,(function*(){if(this.signInParams.username)try{this.signInParams.getCodeConfig.getVerifyCodeLoading=!0,this.signInParams.getCodeConfig.getVerifyCodeLoading=!1,this.signInParams.getCodeConfig.toGetVerifyCode=!0,this.$globalMessage.show({type:"success",content:"EMAIL"===this.signInParams.method?"验证码已经发送到您的邮箱（email）":"短信验证码已发送到您的手机（mobile）"});var e=+new Date;let o=this.signInParams.getCodeConfig.verifyCodeCount,a=this.signInParams.getCodeConfig.verifyCodeCount;var s=setInterval((()=>{var r=+new Date;o--,this.signInParams.getCodeConfig.verifyCodeCount=o,r-e>=1e3*a&&(clearInterval(s),this.signInParams.getCodeConfig.toGetVerifyCode=!1,this.signInParams.getCodeConfig.verifyCodeCount=a)}),1e3)}catch(o){console.log(o),this.signInParams.getCodeConfig.getVerifyCodeLoading=!1}else this.$globalMessage.show({type:"error",content:"请输入用户名"})}))}handlerChangePassword(){this.$refs.changePasswordForm.validate().then((e=>xe(this,void 0,void 0,(function*(){e&&(this.$globalMessage.show({type:"success",content:"修改成功"}),this.changePasswordForm.username="",this.changePasswordForm.oldPassword="",this.changePasswordForm.password="",this.changePasswordForm.rePassword="",this.$nextTick((()=>{this.$refs.changePasswordForm&&this.$refs.changePasswordForm.resetValidation()})),this.pageType="signIn")}))))}handlerForgetPassword(){this.$refs.forgotPasswordForm.validate().then((e=>xe(this,void 0,void 0,(function*(){e&&(this.$globalMessage.show({type:"success",content:"操作成功，请检查您的电子邮件以重置您的密码"}),this.forgotPasswordForm.email="",this.forgotPasswordForm.username="",this.$nextTick((()=>{this.$refs.forgotPasswordForm&&this.$refs.forgotPasswordForm.resetValidation()})),this.pageType="signIn")}))))}handlerResetPassword(){this.$refs.resetPasswordForm.validate().then((e=>xe(this,void 0,void 0,(function*(){e&&((0,Ce.LP)()||this.$globalMessage.show({type:"success",content:"修改成功，请重新登录"}),this.resetPasswordForm.password="",this.resetPasswordForm.rePassword="",this.$nextTick((()=>{this.$refs.resetPasswordForm&&this.$refs.resetPasswordForm.resetValidation()})),this.resetPasswordToSignIn())}))))}};Ie([(0,Pe.Watch)("$route",{immediate:!0})],Te.prototype,"onRouteChange",null),Ie([(0,Pe.Watch)("pageType")],Te.prototype,"onPageTypeChange",null),Ie([(0,Pe.Watch)("resetPasswordForm.password",{deep:!0})],Te.prototype,"onResetPasswordChange",null),Ie([(0,Pe.Watch)("resetPasswordForm.rePassword",{deep:!0})],Te.prototype,"onResetRePasswordChange",null),Ie([(0,Pe.Watch)("changePasswordForm.password",{deep:!0})],Te.prototype,"onChangePasswordChange",null),Ie([(0,Pe.Watch)("changePasswordForm.rePassword",{deep:!0})],Te.prototype,"onChangeRePasswordChange",null),Te=Ie([(0,Pe.Component)({name:"LoginPage2"})],Te);const _e=Te;var Fe=o(11639),Ne=o(61398),Le=o(60408),be=o(51017),je=o(86075),ze=o(31198),ke=o(87430),De=o(69984),Se=o.n(De);const Ve=(0,Fe.Z)(_e,[["render",he],["__scopeId","data-v-522d686f"]]),$e=Ve;Se()(_e,"components",{QForm:Ne.Z,QInput:Le.Z,QIcon:be.Z,QBtn:je.Z,QSelect:ze.Z,QImg:ke.Z})},86980:e=>{e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjg5OTkxNjAxODU0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjIwNTIiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMjAwIiBoZWlnaHQ9IjIwMCI+PHBhdGggZD0iTTkzMi4yNzQgMjI1LjM1N0w1MTUuOTEyIDM5NC45NTIgOTguNTk3IDIyNS4zNTcgNTE0Ljk1IDY0LjMzMmw0MTcuMzI1IDE2MS4wMjV6IG0tODY3Ljk4IDcwLjUwN2w0MTUuNDEzIDE3My4zOTdWOTM4Ljk4Yy0zMy4wMjgtMTQuNTk1LTY3LjMxOC0yOS44Ny0xMDIuOS00NS43NC0zMC40OC0xMy4zMi02NC45NDgtMjguMjQxLTEwMy4zNzQtNDQuNzYyYTQyNDcwLjQ3IDQyNDcwLjQ3IDAgMCAwLTExNS43NjEtNDkuNTY2Yy0xMy45Ny02LjM0Ni0yNi42ODEtMTQuNzU3LTM4LjExNi0yNS4yMy0xMS40MzYtMTAuNDctMjEuMjgyLTIxLjkyLTI5LjUzLTM0LjI5MS04LjI2LTEyLjM5OC0xNC42MDktMjUuNTgyLTE5LjA1OC0zOS41NTQtNC40NDgtMTMuOTcxLTYuNjc0LTI3LjYxNy02LjY3NC00MC45NjVWMjk1Ljg2NHogbTg5My43IDB2MzYxLjEwOWMwIDE2LjQ5NC0zLjE3MyAzMi41NTQtOS41MjMgNDguMWEyMTAuODQgMjEwLjg0IDAgMCAxLTI0LjMwNiA0My44MTNjLTkuODM1IDEzLjY3NC0yMC43OTggMjUuNzQ3LTMyLjg2OSAzNi4yMTgtMTIuMDU5IDEwLjUtMjMuODE2IDE4LjU4Mi0zNS4yNTMgMjQuMzA5LTMzLjY2OCAxMy45Ny02OC45MDggMjguNTY1LTEwNS43NSA0My44MWEyNDcwMi42MzYgMjQ3MDIuNjM2IDAgMCAxLTEwMS45NSA0MS45NDNjLTM2LjIwNiAxNS4yMjEtNzEuNzcgMjkuODQzLTEwNi43MTIgNDMuODE0VjQ2OS4yNmw0MTYuMzYzLTE3My4zOTZ6IG0wIDAiIHAtaWQ9IjIwNTMiIGZpbGw9IiNmZmZmZmYiPjwvcGF0aD48L3N2Zz4="}}]);