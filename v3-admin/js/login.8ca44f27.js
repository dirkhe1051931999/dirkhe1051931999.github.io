(globalThis["webpackChunkquasar_vue3_admin_template"]=globalThis["webpackChunkquasar_vue3_admin_template"]||[]).push([[966],{55974:(e,s,o)=>{"use strict";o.r(s),o.d(s,{default:()=>Ae});var a=o(64177),r=(o(87633),o(90473),o(61758)),t=o(29104),l=o(58790),n=o(42675),d=o.n(n);const i=e=>((0,r.Qi)("data-v-82800020"),e=e(),(0,r.jt)(),e),c={class:"full-width full-height overflow-hidden absolute left-0 top-0 row"},p={class:"row items-center justify-center full-width"},u={key:0,class:"col-md-6 col-lg-6 col-xl-6 col-sm-12 col-xs-12 q-m-auto row",style:{"z-index":"1000"}},g={class:"col-md-8 col-lg-8 col-xl-6 col-sm-8 col-xs-8 q-mx-auto"},h={class:"q-pa-lg"},m=i((()=>(0,r.Lk)("div",{class:"f-bold bold text-h5 q-pb-md"},"Change password",-1))),w=i((()=>(0,r.Lk)("div",{class:"q-pb-lg text-body1"},"Please enter the following information to change your password",-1))),P={class:"field"},f=i((()=>(0,r.Lk)("div",{class:"row q-py-xs text-weight-medium"},[(0,r.Lk)("label",{class:"w-p-30"},"* Username")],-1))),y={class:"field"},v=i((()=>(0,r.Lk)("div",{class:"row q-py-xs text-weight-medium"},[(0,r.Lk)("label",{class:"w-p-30"},"* Old password")],-1))),k={class:"field"},C={class:"row q-py-xs text-weight-medium"},F=i((()=>(0,r.Lk)("label",{class:"q-mr-sm"},"* New password",-1))),x={class:"field"},b=i((()=>(0,r.Lk)("div",{class:"row q-py-xs text-weight-medium"},[(0,r.Lk)("label",{class:"w-p-30"},"* Confirm Password")],-1))),L={class:"text-center"},I={key:1,class:"col-md-6 col-lg-6 col-xl-6 col-sm-12 col-xs-12 q-m-auto row",style:{"z-index":"1000"}},$={class:"col-md-8 col-lg-8 col-xl-6 col-sm-8 col-xs-8 q-mx-auto"},q={class:"q-pa-lg"},V=i((()=>(0,r.Lk)("div",{class:"f-bold bold text-h5 q-pb-md"},"Forgot password",-1))),R=i((()=>(0,r.Lk)("div",{class:"q-pb-lg text-body1"},"Please enter your username and email address to reset your password.",-1))),S={class:"field"},T=i((()=>(0,r.Lk)("div",{class:"row q-py-xs text-weight-medium"},[(0,r.Lk)("label",{class:"w-p-30"},"* Username")],-1))),_={class:"field"},D=i((()=>(0,r.Lk)("div",{class:"row q-py-xs text-weight-medium"},[(0,r.Lk)("label",{class:"w-p-30"},"* Email4")],-1))),z={class:"text-center"},U={key:2,class:"col-md-6 col-lg-6 col-xl-6 col-sm-12 col-xs-12 q-m-auto row",style:{"z-index":"1000"}},A={class:"col-md-8 col-lg-8 col-xl-6 col-sm-8 col-xs-8 q-mx-auto"},E={class:"q-pa-lg"},Q=i((()=>(0,r.Lk)("div",{class:"f-bold bold text-h5 q-pb-md"},"Reset Password",-1))),M=i((()=>(0,r.Lk)("div",{class:"q-pb-lg text-body1"},"Please reset your password.",-1))),O={class:"field"},X={class:"row q-py-xs text-weight-medium"},j=i((()=>(0,r.Lk)("label",{class:"q-mr-sm"},"* Password",-1))),K={class:"field"},W=i((()=>(0,r.Lk)("div",{class:"row q-pb-md q-pt-xs f-bold"},[(0,r.Lk)("label",null,"* Confirm password")],-1))),G={class:"text-center"},B={key:3,class:"col-md-6 col-lg-6 col-xl-6 col-sm-12 col-xs-12 q-m-auto row",style:{"z-index":"1000"}},Y={class:"col-md-8 col-lg-8 col-xl-6 col-sm-8 col-xs-8 q-mx-auto"},N={class:"q-pa-lg"},H=i((()=>(0,r.Lk)("div",{class:"f-bold bold text-h5 q-pb-md"},"Sign In",-1))),J=i((()=>(0,r.Lk)("div",{class:"text-body1 lh-24"},"Please enter your username and password.",-1))),Z=i((()=>(0,r.Lk)("p",{class:"text-grey q-pb-lg"},"(Login by typing in any username, code and password)",-1))),ee={class:"field"},se=i((()=>(0,r.Lk)("div",{class:"row q-pb-xs text-weight-medium"},[(0,r.Lk)("label",null,"Username")],-1))),oe={class:"field"},ae=i((()=>(0,r.Lk)("div",{class:"row q-py-xs text-weight-medium"},[(0,r.Lk)("label",null,"Code")],-1))),re={class:"row q-col-gutter-md"},te={class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},le={class:"col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},ne={class:"text-right col-xs-4 col-sm-4 col-md-4 col-lg-4 col-xl-4"},de={class:"field"},ie={class:"row q-py-xs text-weight-medium"},ce=i((()=>(0,r.Lk)("label",{class:"w-p-30"},"Password",-1))),pe={class:"text-right w-p-70"},ue={class:"text-center"},ge={class:"cover row column"},he={class:"img"},me={class:"intro"},we={class:"f-bold lh-48",style:{"font-size":"2.5em"}};function Pe(e,s,o,n,i,Pe){const fe=(0,r.g2)("q-input"),ye=(0,r.g2)("q-icon"),ve=a.Vc,ke=(0,r.g2)("q-btn"),Ce=(0,r.g2)("q-form"),Fe=(0,r.g2)("q-select"),xe=(0,r.g2)("q-img");return(0,r.uX)(),(0,r.CE)("div",c,[(0,r.Lk)("div",p,["changePassword"===e.pageType?((0,r.uX)(),(0,r.CE)("div",u,[(0,r.Lk)("div",g,[(0,r.Lk)("div",h,[m,w,(0,r.bF)(Ce,{ref:"changePasswordForm"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",P,[f,(0,r.bF)(fe,{type:"text",modelValue:e.changePasswordForm.username,"onUpdate:modelValue":s[0]||(s[0]=s=>e.changePasswordForm.username=s),autocapitalize:"off",autocomplete:"new-password",outlined:"",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.changePasswordRules.username},null,8,["modelValue","rules"])]),(0,r.Lk)("div",y,[v,(0,r.bF)(fe,{type:"text",modelValue:e.changePasswordForm.oldPassword,"onUpdate:modelValue":[s[1]||(s[1]=s=>e.changePasswordForm.oldPassword=s),s[4]||(s[4]=s=>e.resetPasswordForm.rePassword=e.resetPasswordForm.rePassword.replace(/[\u4e00-\u9fa5]/gi,""))],autocapitalize:"off",autocomplete:"new-password",outlined:"",class:"input-password",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.changePasswordRules.oldPassword,onPasteCapture:s[2]||(s[2]=(0,t.D$)((()=>0),["prevent"])),onCopyCapture:s[3]||(s[3]=(0,t.D$)((()=>0),["prevent"]))},null,8,["modelValue","rules"])]),(0,r.Lk)("div",k,[(0,r.Lk)("div",C,[F,(0,r.bF)(ve,{placement:"top",title:"Password rules",width:320,"popper-style":"z-index:9999",trigger:"hover"},{reference:(0,r.k6)((()=>[(0,r.bF)(ye,{name:"o_info",class:"text-grey cursor-pointer"})])),default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.passwordRules,((e,s)=>((0,r.uX)(),(0,r.CE)("p",{key:s},(0,l.v_)(s+1)+". "+(0,l.v_)(e),1)))),128))])),_:1})]),(0,r.bF)(fe,{type:"text",ref:"changePassword",modelValue:e.changePasswordForm.password,"onUpdate:modelValue":[s[5]||(s[5]=s=>e.changePasswordForm.password=s),s[8]||(s[8]=s=>e.resetPasswordForm.rePassword=e.resetPasswordForm.rePassword.replace(/[\u4e00-\u9fa5]/gi,""))],autocapitalize:"off",class:"input-password",autocomplete:"new-password",outlined:"",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.changePasswordRules.password,onPasteCapture:s[6]||(s[6]=(0,t.D$)((()=>0),["prevent"])),onCopyCapture:s[7]||(s[7]=(0,t.D$)((()=>0),["prevent"]))},null,8,["modelValue","rules"])]),(0,r.Lk)("div",x,[b,(0,r.bF)(fe,{type:"text",ref:"changeRePassword",modelValue:e.changePasswordForm.rePassword,"onUpdate:modelValue":[s[9]||(s[9]=s=>e.changePasswordForm.rePassword=s),s[12]||(s[12]=s=>e.resetPasswordForm.rePassword=e.resetPasswordForm.rePassword.replace(/[\u4e00-\u9fa5]/gi,""))],autocapitalize:"off",autocomplete:"new-password",outlined:"",class:"input-password",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.changePasswordRules.rePassword,onPasteCapture:s[10]||(s[10]=(0,t.D$)((()=>0),["prevent"])),onCopyCapture:s[11]||(s[11]=(0,t.D$)((()=>0),["prevent"]))},null,8,["modelValue","rules"])]),(0,r.bF)(ke,{class:"full-width q-my-lg",onClick:(0,t.D$)(e.handlerChangePassword,["prevent"]),label:"Confirm",color:"primary"},null,8,["onClick"])])),_:1},512),(0,r.Lk)("div",L,[(0,r.eW)(" Already have an account? "),(0,r.Lk)("span",{class:"detail-link-type",onClick:s[13]||(s[13]=(...s)=>e.resetPasswordToSignIn&&e.resetPasswordToSignIn(...s))}," Sign In ")])])])])):(0,r.Q3)("",!0),"forgotPassword"===e.pageType?((0,r.uX)(),(0,r.CE)("div",I,[(0,r.Lk)("div",$,[(0,r.Lk)("div",q,[V,R,(0,r.bF)(Ce,{ref:"forgotPasswordForm"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",S,[T,(0,r.bF)(fe,{type:"text",modelValue:e.forgotPasswordForm.username,"onUpdate:modelValue":s[14]||(s[14]=s=>e.forgotPasswordForm.username=s),autocapitalize:"off",autocomplete:"new-password",outlined:"",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.forgotPasswordRules.username},null,8,["modelValue","rules"])]),(0,r.Lk)("div",_,[D,(0,r.bF)(fe,{type:"text",modelValue:e.forgotPasswordForm.email,"onUpdate:modelValue":s[15]||(s[15]=s=>e.forgotPasswordForm.email=s),autocapitalize:"off",autocomplete:"new-password",outlined:"",placeholder:"Please enter",dense:"","clear-icon":"app:clear","no-error-icon":"",rules:e.forgotPasswordRules.email},null,8,["modelValue","rules"])]),(0,r.bF)(ke,{class:"full-width q-my-lg",onClick:(0,t.D$)(e.handlerForgetPassword,["prevent"]),label:"Confirm",color:"primary"},null,8,["onClick"])])),_:1},512),(0,r.Lk)("div",z,[(0,r.eW)(" Already have an account? "),(0,r.Lk)("span",{class:"detail-link-type",onClick:s[16]||(s[16]=(...s)=>e.resetPasswordToSignIn&&e.resetPasswordToSignIn(...s))}," Sign In ")])])])])):(0,r.Q3)("",!0),"resetPassword"===e.pageType?((0,r.uX)(),(0,r.CE)("div",U,[(0,r.Lk)("div",A,[(0,r.Lk)("div",E,[Q,M,(0,r.bF)(Ce,{ref:"resetPasswordForm"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",O,[(0,r.Lk)("div",X,[j,(0,r.bF)(ve,{placement:"top",title:"Password rules",width:320,trigger:"hover"},{reference:(0,r.k6)((()=>[(0,r.bF)(ye,{name:"o_info",class:"text-grey-3 cursor-pointer"})])),default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.passwordRules,((e,s)=>((0,r.uX)(),(0,r.CE)("p",{key:s},(0,l.v_)(s+1)+". "+(0,l.v_)(e),1)))),128))])),_:1})]),(0,r.bF)(fe,{type:"text",class:"input-password",modelValue:e.resetPasswordForm.password,"onUpdate:modelValue":[s[17]||(s[17]=s=>e.resetPasswordForm.password=s),s[20]||(s[20]=s=>e.resetPasswordForm.password=e.resetPasswordForm.password.replace(/[\u4e00-\u9fa5]/gi,""))],autocapitalize:"off",autocomplete:"new-password",placeholder:"Please enter",outlined:"",dense:"",ref:"resetPassword","clear-icon":"app:clear","no-error-icon":"",onPasteCapture:s[18]||(s[18]=(0,t.D$)((()=>0),["prevent"])),onCopyCapture:s[19]||(s[19]=(0,t.D$)((()=>0),["prevent"])),rules:e.resetPasswordRules.password},null,8,["modelValue","rules"])]),(0,r.Lk)("div",K,[W,(0,r.bF)(fe,{type:"text",class:"input-password",modelValue:e.resetPasswordForm.rePassword,"onUpdate:modelValue":[s[21]||(s[21]=s=>e.resetPasswordForm.rePassword=s),s[24]||(s[24]=s=>e.resetPasswordForm.rePassword=e.resetPasswordForm.rePassword.replace(/[\u4e00-\u9fa5]/gi,""))],placeholder:"Please enter",autocapitalize:"off",autocomplete:"new-password",outlined:"",dense:"",ref:"resetRePassword","clear-icon":"app:clear","no-error-icon":"",onPasteCapture:s[22]||(s[22]=(0,t.D$)((()=>0),["prevent"])),onCopyCapture:s[23]||(s[23]=(0,t.D$)((()=>0),["prevent"])),rules:e.resetPasswordRules.rePassword},null,8,["modelValue","rules"])]),(0,r.bF)(ke,{class:"full-width q-my-lg",onClick:(0,t.D$)(e.handlerResetPassword,["prevent"]),label:"Confirm",color:"primary"},null,8,["onClick"])])),_:1},512),(0,r.Lk)("div",G,[(0,r.eW)(" Already have an account? "),(0,r.Lk)("span",{class:"detail-link-type",onClick:s[25]||(s[25]=(...s)=>e.resetPasswordToSignIn&&e.resetPasswordToSignIn(...s))}," Sign In ")])])])])):(0,r.Q3)("",!0),"signIn"===e.pageType?((0,r.uX)(),(0,r.CE)("div",B,[(0,r.Lk)("div",Y,[(0,r.Lk)("div",N,[H,J,Z,(0,r.bF)(Ce,null,{default:(0,r.k6)((()=>[(0,r.Lk)("div",ee,[se,(0,r.bF)(fe,{type:"text",autocapitalize:"off",modelValue:e.signInParams.username,"onUpdate:modelValue":s[26]||(s[26]=s=>e.signInParams.username=s),autocomplete:"new-password",onKeyup:(0,t.jR)(e.handlerSignIn,["enter"]),placeholder:"Please enter",outlined:"",dense:"","no-error-icon":"","clear-icon":"app:clear"},null,8,["modelValue","onKeyup"])]),(0,r.Lk)("div",oe,[ae,(0,r.Lk)("div",re,[(0,r.Lk)("div",te,[(0,r.bF)(Fe,{modelValue:e.signInParams.method,"onUpdate:modelValue":s[27]||(s[27]=s=>e.signInParams.method=s),options:e.signInParams.methodSelectOption,placeholder:"Please enter",spellcheck:!1,autocomplete:"new-password",outlined:"",onKeyup:(0,t.jR)(e.handlerSignIn,["enter"]),"no-error-icon":"","map-options":"","options-dense":"","emit-value":"",dense:"","dropdown-icon":"app:topbar-arrow-bottom","clear-icon":"app:clear"},null,8,["modelValue","options","onKeyup"])]),(0,r.Lk)("div",le,[(0,r.bF)(fe,{type:"text",modelValue:e.signInParams.code,"onUpdate:modelValue":s[28]||(s[28]=s=>e.signInParams.code=s),autocapitalize:"off",placeholder:"Please enter",autocomplete:"new-password",outlined:"",onKeyup:(0,t.jR)(e.handlerSignIn,["enter"]),"no-error-icon":"",dense:"","clear-icon":"app:clear"},null,8,["modelValue","onKeyup"])]),(0,r.Lk)("div",ne,[e.signInParams.getCodeConfig.toGetVerifyCode?((0,r.uX)(),(0,r.Wv)(ke,{key:1,color:"primary",class:"full-height full-width",disabled:"",label:`${e.signInParams.getCodeConfig.verifyCodeCount} 秒`},null,8,["label"])):((0,r.uX)(),(0,r.Wv)(ke,{key:0,color:"primary",class:"full-height full-width",label:"Send",onClick:e.handleClickSendCode},null,8,["onClick"]))])])]),(0,r.Lk)("div",de,[(0,r.Lk)("div",ie,[ce,(0,r.Lk)("div",pe,[(0,r.Lk)("span",{class:"detail-link-type",onClick:s[29]||(s[29]=s=>e.pageType="forgotPassword")},"Forgot password?")])]),(0,r.bF)(fe,{type:"text",class:"input-password",modelValue:e.signInParams.password,"onUpdate:modelValue":[s[30]||(s[30]=s=>e.signInParams.password=s),s[33]||(s[33]=s=>e.signInParams.password=e.signInParams.password.replace(/[\u4e00-\u9fa5]/gi,""))],autocapitalize:"off",placeholder:"Please enter",autocomplete:"new-password",outlined:"",onPasteCapture:s[31]||(s[31]=(0,t.D$)((()=>0),["prevent"])),onCopyCapture:s[32]||(s[32]=(0,t.D$)((()=>0),["prevent"])),onKeyup:(0,t.jR)(e.handlerSignIn,["enter"]),"no-error-icon":"",dense:"","clear-icon":"app:clear"},null,8,["modelValue","onKeyup"])]),(0,r.bF)(ke,{class:"full-width q-my-lg",onClick:(0,t.D$)(e.handlerSignIn,["prevent"]),label:"Sign In",color:"primary"},null,8,["onClick"]),(0,r.Lk)("div",ue,[(0,r.Lk)("span",{class:"detail-link-type",onClick:s[34]||(s[34]=s=>e.pageType="changePassword")},"Change password? ")])])),_:1})])])])):(0,r.Q3)("",!0),(0,r.Lk)("div",{class:(0,l.C4)(["col-md-6 col-lg-6 col-xl-6 full-height relative-position",e.$q.screen.xs||e.$q.screen.sm?"hidden":""])},[(0,r.Lk)("div",ge,[(0,r.Lk)("div",he,[(0,r.bF)(xe,{src:d(),alt:"chat-img"})]),(0,r.Lk)("div",me,[(0,r.Lk)("h4",we,"“"+(0,l.v_)(e.$t("login.illustrationDescription"))+"”",1)])])],2)])])}var fe=o(30524),ye=o(14717),ve=o(77762),ke=o(88230),Ce=o(16257),Fe=o(99711),xe=function(e,s,o,a){var r,t=arguments.length,l=t<3?s:null===a?a=Object.getOwnPropertyDescriptor(s,o):a;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)l=Reflect.decorate(e,s,o,a);else for(var n=e.length-1;n>=0;n--)(r=e[n])&&(l=(t<3?r(l):t>3?r(s,o,l):r(s,o))||l);return t>3&&l&&Object.defineProperty(s,o,l),l},be=function(e,s,o,a){function r(e){return e instanceof o?e:new o((function(s){s(e)}))}return new(o||(o=Promise))((function(o,t){function l(e){try{d(a.next(e))}catch(s){t(s)}}function n(e){try{d(a["throw"](e))}catch(s){t(s)}}function d(e){e.done?o(e.value):r(e.value).then(l,n)}d((a=a.apply(e,s||[])).next())}))};let Le=class extends fe.lD{constructor(){super(...arguments),this.globals=(0,r.nI)().appContext.config.globalProperties,this.passwordRules=Fe.Fv,this.pageType="signIn",this.otherQuery={},this.changePasswordForm={username:"",oldPassword:"",password:"",rePassword:""},this.forgotPasswordForm={email:"",username:""},this.resetPasswordForm={password:"",rePassword:""},this.signInParams={username:"",password:"",code:"",method:"ALI_SMS_VERIFY",methodSelectOption:[{label:"SMS",value:"ALI_SMS_VERIFY"},{label:"EMAIL",value:"EMAIL"}],getCodeConfig:{toGetVerifyCode:!1,getVerifyCodeLoading:!1,verifyCodeCount:10}},this.changePasswordRules={username:[e=>e&&String(e).length>0||"必填"],oldPassword:[e=>e&&String(e).length>0||"必填"],password:[e=>e&&String(e).length>0||"必填",e=>(0,ve.sl)(e)||"无效密码",e=>this.changePasswordForm.rePassword===e||"两次密码不一致"],rePassword:[e=>e&&String(e).length>0||"必填",e=>(0,ve.sl)(e)||"无效密码",e=>this.changePasswordForm.password===e||"两次密码不一致"]},this.forgotPasswordRules={username:[e=>e&&String(e).length>0||"必填"],email:[e=>e&&String(e).length>0||"必填",e=>(0,ve.B9)(e)||"无效邮箱"]},this.resetPasswordRules={password:[e=>e&&String(e).length>0||"必填",e=>(0,ve.sl)(e)||"无效密码",e=>this.resetPasswordForm.rePassword===e||"两次密码不一致"],rePassword:[e=>e&&String(e).length>0||"必填",e=>(0,ve.sl)(e)||"无效密码",e=>this.resetPasswordForm.password===e||"两次密码不一致"]}}onRouteChange(e){const s=e.query;s&&(this.redirect=s.redirect,this.otherQuery=this.getOtherQuery(s))}onPageTypeChange(e){this.changePasswordForm.username="",this.changePasswordForm.oldPassword="",this.changePasswordForm.password="",this.changePasswordForm.rePassword="",this.forgotPasswordForm.username="",this.forgotPasswordForm.email="",this.resetPasswordForm.password="",this.resetPasswordForm.rePassword="",this.$nextTick((()=>{this.$refs.changePasswordForm&&this.$refs.changePasswordForm.resetValidation(),this.$refs.forgotPasswordForm&&this.$refs.forgotPasswordForm.resetValidation(),this.$refs.resetPasswordForm&&this.$refs.resetPasswordForm.resetValidation()}))}onResetPasswordChange(){this.$refs["resetRePassword"].validate()}onResetRePasswordChange(){this.$refs["resetPassword"].validate()}onChangePasswordChange(){this.$refs["changeRePassword"].validate()}onChangeRePasswordChange(){this.$refs["changePassword"].validate()}get token(){return this.$route.query.token}created(){}mounted(){return be(this,void 0,void 0,(function*(){if(this.token){this.pageType="resetPassword";try{["123"].includes("code")&&this.$q.dialog({title:"提示",message:"链接过期，请重新申请链接",persistent:!0,cancel:!1}).onOk((()=>{if((0,ke.gf)()){const e=Ce.W.routes;this.$router.push(`${e[1].path}${e[1]&&e[1].children&&e[1].children[0].path?`/${e[1].children[0].path}`:""}`)}else this.pageType="signIn",this.$router.push("/login2")}))}catch(e){this.$q.dialog({title:"提示",message:"链接过期，请重新申请链接",persistent:!0,cancel:!1}).onOk((()=>{this.pageType="signIn",this.$router.push("/login2")})),console.log(e)}}}))}getOtherQuery(e){return Object.keys(e).reduce(((s,o)=>("redirect"!==o&&(s[o]=e[o]),s)),{})}resetPasswordToSignIn(){return be(this,void 0,void 0,(function*(){if((0,ke.gf)()){const e=yield this.$globalConfirm.show({title:"再次确认",color:"primary",content:"您已经登录，是否要注销登录并重新登录？",confirmButtonText:"Confirm"});if(e)ye.U.ResetToken(),this.pageType="signIn",this.$router.push("/login2");else{const e=Ce.W.routes;this.$router.push(`${e[1].path}${e[1]&&e[1].children&&e[1].children[0].path?`/${e[1].children[0].path}`:""}`)}}this.pageType="signIn",this.$router.push("/login2")}))}handlerSignIn(){return be(this,void 0,void 0,(function*(){this.signInParams.username&&this.signInParams.password?this.signInParams.code?(this.$q.loading.show(),yield ye.U.Login({username:this.signInParams.username,password:this.signInParams.password,code:this.signInParams.code}),this.$q.loading.hide(),this.$globalMessage.show({type:"success",content:"登录成功"}),location.reload()):this.$globalMessage.show({type:"error",content:"验证码不能为空"}):this.$globalMessage.show({type:"error",content:"用户名或密码不能为空"})}))}handleClickSendCode(){return be(this,void 0,void 0,(function*(){if(this.signInParams.username)try{this.signInParams.getCodeConfig.getVerifyCodeLoading=!0,this.signInParams.getCodeConfig.getVerifyCodeLoading=!1,this.signInParams.getCodeConfig.toGetVerifyCode=!0,this.$globalMessage.show({type:"success",content:"EMAIL"===this.signInParams.method?"验证码已经发送到您的邮箱（email）":"短信验证码已发送到您的手机（mobile）"});var e=+new Date;let o=this.signInParams.getCodeConfig.verifyCodeCount,a=this.signInParams.getCodeConfig.verifyCodeCount;var s=setInterval((()=>{var r=+new Date;o--,this.signInParams.getCodeConfig.verifyCodeCount=o,r-e>=1e3*a&&(clearInterval(s),this.signInParams.getCodeConfig.toGetVerifyCode=!1,this.signInParams.getCodeConfig.verifyCodeCount=a)}),1e3)}catch(o){console.log(o),this.signInParams.getCodeConfig.getVerifyCodeLoading=!1}else this.$globalMessage.show({type:"error",content:"请输入用户名"})}))}handlerChangePassword(){this.$refs.changePasswordForm.validate().then((e=>be(this,void 0,void 0,(function*(){e&&(this.$globalMessage.show({type:"success",content:"修改成功"}),this.changePasswordForm.username="",this.changePasswordForm.oldPassword="",this.changePasswordForm.password="",this.changePasswordForm.rePassword="",this.$nextTick((()=>{this.$refs.changePasswordForm&&this.$refs.changePasswordForm.resetValidation()})),this.pageType="signIn")}))))}handlerForgetPassword(){this.$refs.forgotPasswordForm.validate().then((e=>be(this,void 0,void 0,(function*(){e&&(this.$globalMessage.show({type:"success",content:"操作成功，请检查您的电子邮件以重置您的密码"}),this.forgotPasswordForm.email="",this.forgotPasswordForm.username="",this.$nextTick((()=>{this.$refs.forgotPasswordForm&&this.$refs.forgotPasswordForm.resetValidation()})),this.pageType="signIn")}))))}handlerResetPassword(){this.$refs.resetPasswordForm.validate().then((e=>be(this,void 0,void 0,(function*(){e&&((0,ke.gf)()||this.$globalMessage.show({type:"success",content:"修改成功，请重新登录"}),this.resetPasswordForm.password="",this.resetPasswordForm.rePassword="",this.$nextTick((()=>{this.$refs.resetPasswordForm&&this.$refs.resetPasswordForm.resetValidation()})),this.resetPasswordToSignIn())}))))}};xe([(0,fe.ox)("$route",{immediate:!0})],Le.prototype,"onRouteChange",null),xe([(0,fe.ox)("pageType")],Le.prototype,"onPageTypeChange",null),xe([(0,fe.ox)("resetPasswordForm.password",{deep:!0})],Le.prototype,"onResetPasswordChange",null),xe([(0,fe.ox)("resetPasswordForm.rePassword",{deep:!0})],Le.prototype,"onResetRePasswordChange",null),xe([(0,fe.ox)("changePasswordForm.password",{deep:!0})],Le.prototype,"onChangePasswordChange",null),xe([(0,fe.ox)("changePasswordForm.rePassword",{deep:!0})],Le.prototype,"onChangeRePasswordChange",null),Le=xe([(0,fe.uA)({name:"LoginPage2"})],Le);const Ie=Le;var $e=o(12807),qe=o(56258),Ve=o(17404),Re=o(9558),Se=o(97714),Te=o(77081),_e=o(97132),De=o(98582),ze=o.n(De);const Ue=(0,$e.A)(Ie,[["render",Pe],["__scopeId","data-v-82800020"]]),Ae=Ue;ze()(Ie,"components",{QForm:qe.A,QInput:Ve.A,QIcon:Re.A,QBtn:Se.A,QSelect:Te.A,QImg:_e.A})},42675:(e,s,o)=>{e.exports=o.p+"img/debug.d10238f0.svg"}}]);